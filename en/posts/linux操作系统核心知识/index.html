<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Linux学习（一） | Luenci</title>
<meta name=keywords content="Linux知识"><meta name=description content="Linux操作系统

&ldquo;一切皆文件&rdquo;

系统启动流程
引导图




最初始阶段
当我们打开计算机电源，计算机会自动从主板的BlOS（Basic Input/output System）读取其中所存储的程序。这一程序通常知道一些直接连接在主板上的硬件（硬盘，网络接口，键盘，串口，并口）。现在大部分的BIOS允许你从软盘、光盘或者硬盘中选择一个来启动计算机。


下一步，计算机将从你所选择的存储设备中读取起始的512 bytes（比如光盘一开是的512 bytes，如果我们从光盘启动的话）。这512bytes叫做主引导记录MBR（master boot record）。MBR会告诉电脑从该设备的某一个分区（partition）来装载引导加载程序（boot loader）。Boot loader储存有操作系统（OS）的相关信息，比如操作系统名称，操作系统内核（kernel）所在位置等。常用的boot loader有GRUB和LILO。


随后，boot loader会帮助我们加载kernel。kernel实际上是一个用来操作计算机的程序，它是计算机操作系统的内核，主要的任务是管理计算机的硬件资源，充当软件和硬件的接口。操作系统上的任何操作都要通过kernel传达给硬件。Windows和Linux各自有自己kernel。


狭义的操作系统就是指kernel，广义的操作系统包括kernel以及kernel之上的各种应用。


（Linus Torvalds与其说是Linux之父，不如说是Linux kernel之父。他依然负责Linux kernel的开发和维护。至于Ubuntu，Red Hat，它们都是基于相同的kernel之上，囊括了不同的应用和界面构成的一个更加完整的操作系统版本。）实际上，我们可以在多个分区安装boot loader，每个boot loader对应不同的操作系统，在读取MBR的时候选择我们想要启动的boot loader。这就是多操作系统的原理。


小结：BlOS -> MBR -> boot loader -> kernel


kernel

如果我们加载的是Linux kernel，Linux kernel开始工作。kernel会首先预留自己运行所需的内存空间，然后通过驱动程序（driver）检测计算机硬件。这样，操作系统就可以知道自己有哪些硬件可用。随后，kernel会启动一个init进程。它是Linux系统中的1号进程（Linux系统没有0号进程）。到此，kernel就完成了在计算机启动阶段的工作，交接给init来管理。
小结：kernel -> init process 



init process
（根据boot loader的选项，Linux此时可以进入单用户模式（single user mode））。在此模式下，初始脚本还没有开始执行，我们可以检测并修复计算机可能存在的错误）随后，init会运行一系列的初始脚本（startup scripts），这些脚本是Linux中常见的shell scripts。这些脚本执行如下功能：

设置计算机名称，时区，检测文件系统，挂载硬盘，清空临时文件，设置网络等

当这些初始脚本，操作系统已经完全准备好了，只是，还没有人可以登录！！！init会给出登录（login）对话框，或者是图形化的登录界面。


输入用户名（比如说luenci）和密码，DONE！


在此后的过程中，你将以用户（user）luenci的身份操作电脑。此外，根据你创建用户时的设定，Linux还会将你归到某个组（group）中，比如可以是stupid组，或者是luenci组。所以你将是用户luenci，同时是luenci组的组员。（注意，组luenci和用户luenci只是重名而已，就好想你可以叫Dell，同时还是Dell公司的老板一样。你完全也可以是用户luenci，同时为stupid组的组员）


启动级别


7种运行级别
运行级别（Runlevel）指的是Unix或者Linux等类Unix操作系统的运行模式，不同的运行模式下系统的功能也有所有不同。Linux 系统下通常分为7种运行级别，分别是从0到6。各级别介绍如下：


0&ndash;停机模式

在这种模式下，系统处于停机状态，系统默认运行级别不能设为0，否则将不能正常启动。这个运行级别主要用于关闭任务，在/etc/rc0.d目录下的各个连接命令都是此级别的命令，在关闭系统时，这些命令将被逐个执行。它 们会杀掉所有进程、关闭虚拟内存和交换文件、卸载文件系统和交换分区。



1&ndash; 单用户模式。

在这种运行模下，系统处于单用户工作状态，登录用户具有root权限，文件系统被加载但是网络却没有被加载，因此也无法远程登陆。这个运行级别，只允一个用户从本地计算机上登录，/etc/rc1.d目录下的所有文件与此运行级别相关连，这个运行级别一般用于系统管理与维护。



2 - -多用户模式。

用户可以通过网络进行登录，但没有NFS（Network File System），即网络文件统。/etc/rc2.d目录下所有文件与此级别相连。



3 - -完全多用户模式。


用户可以通过网络进行登录，且有NFS，用户登陆后会进入控制台命令行模式。这也是缺省的运行模式，在这种运行级别下所有网络服务程序会一起运行。/etc/rc2.d录下的文件与此级别相连


4 - -自定义模式。

这是一种系统未使用的保留模式，/etc/rc4.d目录与此级别相连。这一级别是用户自定义的运行级别，用户可以根自己的需要进行一些自定义设置。如果想要运行这一级别的话，必须在rc3.d目录下放入连接文件，就像其他rc*.d目录下的文件，并指明是启动还是终止进程。



5 - -图形化模式。

在 Linux 下运行X Window就是使用这一运行级别，用户登录后将进入图形化的GUI界面。在这一级别下除了DNS的named与级别3不同，其余的都相同。



6 &ndash; 重启模式。

系统正常关闭并重启，默认运行级别不能设为5，否则系统将不能正常启动。/etc/rc6.d目录与此级别相连。在这一运行级别下，不会关闭电源，/etc/rc6.d目录下的连接与rc0.d目录下的连接基本相同；不同之处在于，虽然它们都执行halt（关闭）命令，但是给halt传递的参数不同，所级别6会重新启动系统而0会关闭系统。


"><meta name=author content="Luenci"><link rel=canonical href=https://luenci.com/en/posts/linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86/><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://luenci.com/images/L.png><link rel=icon type=image/png sizes=16x16 href=https://luenci.com/images/L.png><link rel=icon type=image/png sizes=32x32 href=https://luenci.com/images/L.png><link rel=apple-touch-icon href=https://luenci.com/L.png><link rel=mask-icon href=https://luenci.com/L.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://luenci.com/en/posts/linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script defer src=http://148.135.101.22:3000/script.js data-website-id=ed7c1349-07f6-4e10-b44a-2c8668ff5fb5></script><meta property="og:title" content="Linux学习（一）"><meta property="og:description" content="Linux操作系统

&ldquo;一切皆文件&rdquo;

系统启动流程
引导图




最初始阶段
当我们打开计算机电源，计算机会自动从主板的BlOS（Basic Input/output System）读取其中所存储的程序。这一程序通常知道一些直接连接在主板上的硬件（硬盘，网络接口，键盘，串口，并口）。现在大部分的BIOS允许你从软盘、光盘或者硬盘中选择一个来启动计算机。


下一步，计算机将从你所选择的存储设备中读取起始的512 bytes（比如光盘一开是的512 bytes，如果我们从光盘启动的话）。这512bytes叫做主引导记录MBR（master boot record）。MBR会告诉电脑从该设备的某一个分区（partition）来装载引导加载程序（boot loader）。Boot loader储存有操作系统（OS）的相关信息，比如操作系统名称，操作系统内核（kernel）所在位置等。常用的boot loader有GRUB和LILO。


随后，boot loader会帮助我们加载kernel。kernel实际上是一个用来操作计算机的程序，它是计算机操作系统的内核，主要的任务是管理计算机的硬件资源，充当软件和硬件的接口。操作系统上的任何操作都要通过kernel传达给硬件。Windows和Linux各自有自己kernel。


狭义的操作系统就是指kernel，广义的操作系统包括kernel以及kernel之上的各种应用。


（Linus Torvalds与其说是Linux之父，不如说是Linux kernel之父。他依然负责Linux kernel的开发和维护。至于Ubuntu，Red Hat，它们都是基于相同的kernel之上，囊括了不同的应用和界面构成的一个更加完整的操作系统版本。）实际上，我们可以在多个分区安装boot loader，每个boot loader对应不同的操作系统，在读取MBR的时候选择我们想要启动的boot loader。这就是多操作系统的原理。


小结：BlOS -> MBR -> boot loader -> kernel


kernel

如果我们加载的是Linux kernel，Linux kernel开始工作。kernel会首先预留自己运行所需的内存空间，然后通过驱动程序（driver）检测计算机硬件。这样，操作系统就可以知道自己有哪些硬件可用。随后，kernel会启动一个init进程。它是Linux系统中的1号进程（Linux系统没有0号进程）。到此，kernel就完成了在计算机启动阶段的工作，交接给init来管理。
小结：kernel -> init process 



init process
（根据boot loader的选项，Linux此时可以进入单用户模式（single user mode））。在此模式下，初始脚本还没有开始执行，我们可以检测并修复计算机可能存在的错误）随后，init会运行一系列的初始脚本（startup scripts），这些脚本是Linux中常见的shell scripts。这些脚本执行如下功能：

设置计算机名称，时区，检测文件系统，挂载硬盘，清空临时文件，设置网络等

当这些初始脚本，操作系统已经完全准备好了，只是，还没有人可以登录！！！init会给出登录（login）对话框，或者是图形化的登录界面。


输入用户名（比如说luenci）和密码，DONE！


在此后的过程中，你将以用户（user）luenci的身份操作电脑。此外，根据你创建用户时的设定，Linux还会将你归到某个组（group）中，比如可以是stupid组，或者是luenci组。所以你将是用户luenci，同时是luenci组的组员。（注意，组luenci和用户luenci只是重名而已，就好想你可以叫Dell，同时还是Dell公司的老板一样。你完全也可以是用户luenci，同时为stupid组的组员）


启动级别


7种运行级别
运行级别（Runlevel）指的是Unix或者Linux等类Unix操作系统的运行模式，不同的运行模式下系统的功能也有所有不同。Linux 系统下通常分为7种运行级别，分别是从0到6。各级别介绍如下：


0&ndash;停机模式

在这种模式下，系统处于停机状态，系统默认运行级别不能设为0，否则将不能正常启动。这个运行级别主要用于关闭任务，在/etc/rc0.d目录下的各个连接命令都是此级别的命令，在关闭系统时，这些命令将被逐个执行。它 们会杀掉所有进程、关闭虚拟内存和交换文件、卸载文件系统和交换分区。



1&ndash; 单用户模式。

在这种运行模下，系统处于单用户工作状态，登录用户具有root权限，文件系统被加载但是网络却没有被加载，因此也无法远程登陆。这个运行级别，只允一个用户从本地计算机上登录，/etc/rc1.d目录下的所有文件与此运行级别相关连，这个运行级别一般用于系统管理与维护。



2 - -多用户模式。

用户可以通过网络进行登录，但没有NFS（Network File System），即网络文件统。/etc/rc2.d目录下所有文件与此级别相连。



3 - -完全多用户模式。


用户可以通过网络进行登录，且有NFS，用户登陆后会进入控制台命令行模式。这也是缺省的运行模式，在这种运行级别下所有网络服务程序会一起运行。/etc/rc2.d录下的文件与此级别相连


4 - -自定义模式。

这是一种系统未使用的保留模式，/etc/rc4.d目录与此级别相连。这一级别是用户自定义的运行级别，用户可以根自己的需要进行一些自定义设置。如果想要运行这一级别的话，必须在rc3.d目录下放入连接文件，就像其他rc*.d目录下的文件，并指明是启动还是终止进程。



5 - -图形化模式。

在 Linux 下运行X Window就是使用这一运行级别，用户登录后将进入图形化的GUI界面。在这一级别下除了DNS的named与级别3不同，其余的都相同。



6 &ndash; 重启模式。

系统正常关闭并重启，默认运行级别不能设为5，否则系统将不能正常启动。/etc/rc6.d目录与此级别相连。在这一运行级别下，不会关闭电源，/etc/rc6.d目录下的连接与rc0.d目录下的连接基本相同；不同之处在于，虽然它们都执行halt（关闭）命令，但是给halt传递的参数不同，所级别6会重新启动系统而0会关闭系统。


"><meta property="og:type" content="article"><meta property="og:url" content="https://luenci.com/en/posts/linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86/"><meta property="article:section" content="posts"><meta property="og:site_name" content="(〃'▽'〃)"><meta name=twitter:card content="summary"><meta name=twitter:title content="Linux学习（一）"><meta name=twitter:description content="Linux操作系统

&ldquo;一切皆文件&rdquo;

系统启动流程
引导图




最初始阶段
当我们打开计算机电源，计算机会自动从主板的BlOS（Basic Input/output System）读取其中所存储的程序。这一程序通常知道一些直接连接在主板上的硬件（硬盘，网络接口，键盘，串口，并口）。现在大部分的BIOS允许你从软盘、光盘或者硬盘中选择一个来启动计算机。


下一步，计算机将从你所选择的存储设备中读取起始的512 bytes（比如光盘一开是的512 bytes，如果我们从光盘启动的话）。这512bytes叫做主引导记录MBR（master boot record）。MBR会告诉电脑从该设备的某一个分区（partition）来装载引导加载程序（boot loader）。Boot loader储存有操作系统（OS）的相关信息，比如操作系统名称，操作系统内核（kernel）所在位置等。常用的boot loader有GRUB和LILO。


随后，boot loader会帮助我们加载kernel。kernel实际上是一个用来操作计算机的程序，它是计算机操作系统的内核，主要的任务是管理计算机的硬件资源，充当软件和硬件的接口。操作系统上的任何操作都要通过kernel传达给硬件。Windows和Linux各自有自己kernel。


狭义的操作系统就是指kernel，广义的操作系统包括kernel以及kernel之上的各种应用。


（Linus Torvalds与其说是Linux之父，不如说是Linux kernel之父。他依然负责Linux kernel的开发和维护。至于Ubuntu，Red Hat，它们都是基于相同的kernel之上，囊括了不同的应用和界面构成的一个更加完整的操作系统版本。）实际上，我们可以在多个分区安装boot loader，每个boot loader对应不同的操作系统，在读取MBR的时候选择我们想要启动的boot loader。这就是多操作系统的原理。


小结：BlOS -> MBR -> boot loader -> kernel


kernel

如果我们加载的是Linux kernel，Linux kernel开始工作。kernel会首先预留自己运行所需的内存空间，然后通过驱动程序（driver）检测计算机硬件。这样，操作系统就可以知道自己有哪些硬件可用。随后，kernel会启动一个init进程。它是Linux系统中的1号进程（Linux系统没有0号进程）。到此，kernel就完成了在计算机启动阶段的工作，交接给init来管理。
小结：kernel -> init process 



init process
（根据boot loader的选项，Linux此时可以进入单用户模式（single user mode））。在此模式下，初始脚本还没有开始执行，我们可以检测并修复计算机可能存在的错误）随后，init会运行一系列的初始脚本（startup scripts），这些脚本是Linux中常见的shell scripts。这些脚本执行如下功能：

设置计算机名称，时区，检测文件系统，挂载硬盘，清空临时文件，设置网络等

当这些初始脚本，操作系统已经完全准备好了，只是，还没有人可以登录！！！init会给出登录（login）对话框，或者是图形化的登录界面。


输入用户名（比如说luenci）和密码，DONE！


在此后的过程中，你将以用户（user）luenci的身份操作电脑。此外，根据你创建用户时的设定，Linux还会将你归到某个组（group）中，比如可以是stupid组，或者是luenci组。所以你将是用户luenci，同时是luenci组的组员。（注意，组luenci和用户luenci只是重名而已，就好想你可以叫Dell，同时还是Dell公司的老板一样。你完全也可以是用户luenci，同时为stupid组的组员）


启动级别


7种运行级别
运行级别（Runlevel）指的是Unix或者Linux等类Unix操作系统的运行模式，不同的运行模式下系统的功能也有所有不同。Linux 系统下通常分为7种运行级别，分别是从0到6。各级别介绍如下：


0&ndash;停机模式

在这种模式下，系统处于停机状态，系统默认运行级别不能设为0，否则将不能正常启动。这个运行级别主要用于关闭任务，在/etc/rc0.d目录下的各个连接命令都是此级别的命令，在关闭系统时，这些命令将被逐个执行。它 们会杀掉所有进程、关闭虚拟内存和交换文件、卸载文件系统和交换分区。



1&ndash; 单用户模式。

在这种运行模下，系统处于单用户工作状态，登录用户具有root权限，文件系统被加载但是网络却没有被加载，因此也无法远程登陆。这个运行级别，只允一个用户从本地计算机上登录，/etc/rc1.d目录下的所有文件与此运行级别相关连，这个运行级别一般用于系统管理与维护。



2 - -多用户模式。

用户可以通过网络进行登录，但没有NFS（Network File System），即网络文件统。/etc/rc2.d目录下所有文件与此级别相连。



3 - -完全多用户模式。


用户可以通过网络进行登录，且有NFS，用户登陆后会进入控制台命令行模式。这也是缺省的运行模式，在这种运行级别下所有网络服务程序会一起运行。/etc/rc2.d录下的文件与此级别相连


4 - -自定义模式。

这是一种系统未使用的保留模式，/etc/rc4.d目录与此级别相连。这一级别是用户自定义的运行级别，用户可以根自己的需要进行一些自定义设置。如果想要运行这一级别的话，必须在rc3.d目录下放入连接文件，就像其他rc*.d目录下的文件，并指明是启动还是终止进程。



5 - -图形化模式。

在 Linux 下运行X Window就是使用这一运行级别，用户登录后将进入图形化的GUI界面。在这一级别下除了DNS的named与级别3不同，其余的都相同。



6 &ndash; 重启模式。

系统正常关闭并重启，默认运行级别不能设为5，否则系统将不能正常启动。/etc/rc6.d目录与此级别相连。在这一运行级别下，不会关闭电源，/etc/rc6.d目录下的连接与rc0.d目录下的连接基本相同；不同之处在于，虽然它们都执行halt（关闭）命令，但是给halt传递的参数不同，所级别6会重新启动系统而0会关闭系统。


"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://luenci.com/en/posts/"},{"@type":"ListItem","position":2,"name":"Linux学习（一）","item":"https://luenci.com/en/posts/linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Linux学习（一）","name":"Linux学习（一）","description":"Linux操作系统 \u0026ldquo;一切皆文件\u0026rdquo; 系统启动流程 引导图\n最初始阶段 当我们打开计算机电源，计算机会自动从主板的BlOS（Basic Input/output System）读取其中所存储的程序。这一程序通常知道一些直接连接在主板上的硬件（硬盘，网络接口，键盘，串口，并口）。现在大部分的BIOS允许你从软盘、光盘或者硬盘中选择一个来启动计算机。\n下一步，计算机将从你所选择的存储设备中读取起始的512 bytes（比如光盘一开是的512 bytes，如果我们从光盘启动的话）。这512bytes叫做主引导记录MBR（master boot record）。MBR会告诉电脑从该设备的某一个分区（partition）来装载引导加载程序（boot loader）。Boot loader储存有操作系统（OS）的相关信息，比如操作系统名称，操作系统内核（kernel）所在位置等。常用的boot loader有GRUB和LILO。\n随后，boot loader会帮助我们加载kernel。kernel实际上是一个用来操作计算机的程序，它是计算机操作系统的内核，主要的任务是管理计算机的硬件资源，充当软件和硬件的接口。操作系统上的任何操作都要通过kernel传达给硬件。Windows和Linux各自有自己kernel。\n狭义的操作系统就是指kernel，广义的操作系统包括kernel以及kernel之上的各种应用。\n（Linus Torvalds与其说是Linux之父，不如说是Linux kernel之父。他依然负责Linux kernel的开发和维护。至于Ubuntu，Red Hat，它们都是基于相同的kernel之上，囊括了不同的应用和界面构成的一个更加完整的操作系统版本。）实际上，我们可以在多个分区安装boot loader，每个boot loader对应不同的操作系统，在读取MBR的时候选择我们想要启动的boot loader。这就是多操作系统的原理。\n小结：BlOS -\u0026gt; MBR -\u0026gt; boot loader -\u0026gt; kernel\nkernel\n如果我们加载的是Linux kernel，Linux kernel开始工作。kernel会首先预留自己运行所需的内存空间，然后通过驱动程序（driver）检测计算机硬件。这样，操作系统就可以知道自己有哪些硬件可用。随后，kernel会启动一个init进程。它是Linux系统中的1号进程（Linux系统没有0号进程）。到此，kernel就完成了在计算机启动阶段的工作，交接给init来管理。 小结：kernel -\u0026gt; init process init process\n（根据boot loader的选项，Linux此时可以进入单用户模式（single user mode））。在此模式下，初始脚本还没有开始执行，我们可以检测并修复计算机可能存在的错误）随后，init会运行一系列的初始脚本（startup scripts），这些脚本是Linux中常见的shell scripts。这些脚本执行如下功能：\n设置计算机名称，时区，检测文件系统，挂载硬盘，清空临时文件，设置网络等 当这些初始脚本，操作系统已经完全准备好了，只是，还没有人可以登录！！！init会给出登录（login）对话框，或者是图形化的登录界面。\n输入用户名（比如说luenci）和密码，DONE！\n在此后的过程中，你将以用户（user）luenci的身份操作电脑。此外，根据你创建用户时的设定，Linux还会将你归到某个组（group）中，比如可以是stupid组，或者是luenci组。所以你将是用户luenci，同时是luenci组的组员。（注意，组luenci和用户luenci只是重名而已，就好想你可以叫Dell，同时还是Dell公司的老板一样。你完全也可以是用户luenci，同时为stupid组的组员）\n启动级别 7种运行级别\n运行级别（Runlevel）指的是Unix或者Linux等类Unix操作系统的运行模式，不同的运行模式下系统的功能也有所有不同。Linux 系统下通常分为7种运行级别，分别是从0到6。各级别介绍如下：\n0\u0026ndash;停机模式\n在这种模式下，系统处于停机状态，系统默认运行级别不能设为0，否则将不能正常启动。这个运行级别主要用于关闭任务，在/etc/rc0.d目录下的各个连接命令都是此级别的命令，在关闭系统时，这些命令将被逐个执行。它 们会杀掉所有进程、关闭虚拟内存和交换文件、卸载文件系统和交换分区。 1\u0026ndash; 单用户模式。\n在这种运行模下，系统处于单用户工作状态，登录用户具有root权限，文件系统被加载但是网络却没有被加载，因此也无法远程登陆。这个运行级别，只允一个用户从本地计算机上登录，/etc/rc1.d目录下的所有文件与此运行级别相关连，这个运行级别一般用于系统管理与维护。 2 - -多用户模式。\n用户可以通过网络进行登录，但没有NFS（Network File System），即网络文件统。/etc/rc2.d目录下所有文件与此级别相连。 3 - -完全多用户模式。\n用户可以通过网络进行登录，且有NFS，用户登陆后会进入控制台命令行模式。这也是缺省的运行模式，在这种运行级别下所有网络服务程序会一起运行。/etc/rc2.d录下的文件与此级别相连\n4 - -自定义模式。\n这是一种系统未使用的保留模式，/etc/rc4.d目录与此级别相连。这一级别是用户自定义的运行级别，用户可以根自己的需要进行一些自定义设置。如果想要运行这一级别的话，必须在rc3.d目录下放入连接文件，就像其他rc*.d目录下的文件，并指明是启动还是终止进程。 5 - -图形化模式。\n在 Linux 下运行X Window就是使用这一运行级别，用户登录后将进入图形化的GUI界面。在这一级别下除了DNS的named与级别3不同，其余的都相同。 6 \u0026ndash; 重启模式。\n系统正常关闭并重启，默认运行级别不能设为5，否则系统将不能正常启动。/etc/rc6.d目录与此级别相连。在这一运行级别下，不会关闭电源，/etc/rc6.d目录下的连接与rc0.d目录下的连接基本相同；不同之处在于，虽然它们都执行halt（关闭）命令，但是给halt传递的参数不同，所级别6会重新启动系统而0会关闭系统。 ","keywords":["Linux知识"],"articleBody":"Linux操作系统 “一切皆文件” 系统启动流程 引导图\n最初始阶段 当我们打开计算机电源，计算机会自动从主板的BlOS（Basic Input/output System）读取其中所存储的程序。这一程序通常知道一些直接连接在主板上的硬件（硬盘，网络接口，键盘，串口，并口）。现在大部分的BIOS允许你从软盘、光盘或者硬盘中选择一个来启动计算机。\n下一步，计算机将从你所选择的存储设备中读取起始的512 bytes（比如光盘一开是的512 bytes，如果我们从光盘启动的话）。这512bytes叫做主引导记录MBR（master boot record）。MBR会告诉电脑从该设备的某一个分区（partition）来装载引导加载程序（boot loader）。Boot loader储存有操作系统（OS）的相关信息，比如操作系统名称，操作系统内核（kernel）所在位置等。常用的boot loader有GRUB和LILO。\n随后，boot loader会帮助我们加载kernel。kernel实际上是一个用来操作计算机的程序，它是计算机操作系统的内核，主要的任务是管理计算机的硬件资源，充当软件和硬件的接口。操作系统上的任何操作都要通过kernel传达给硬件。Windows和Linux各自有自己kernel。\n狭义的操作系统就是指kernel，广义的操作系统包括kernel以及kernel之上的各种应用。\n（Linus Torvalds与其说是Linux之父，不如说是Linux kernel之父。他依然负责Linux kernel的开发和维护。至于Ubuntu，Red Hat，它们都是基于相同的kernel之上，囊括了不同的应用和界面构成的一个更加完整的操作系统版本。）实际上，我们可以在多个分区安装boot loader，每个boot loader对应不同的操作系统，在读取MBR的时候选择我们想要启动的boot loader。这就是多操作系统的原理。\n小结：BlOS -\u003e MBR -\u003e boot loader -\u003e kernel\nkernel\n如果我们加载的是Linux kernel，Linux kernel开始工作。kernel会首先预留自己运行所需的内存空间，然后通过驱动程序（driver）检测计算机硬件。这样，操作系统就可以知道自己有哪些硬件可用。随后，kernel会启动一个init进程。它是Linux系统中的1号进程（Linux系统没有0号进程）。到此，kernel就完成了在计算机启动阶段的工作，交接给init来管理。 小结：kernel -\u003e init process init process\n（根据boot loader的选项，Linux此时可以进入单用户模式（single user mode））。在此模式下，初始脚本还没有开始执行，我们可以检测并修复计算机可能存在的错误）随后，init会运行一系列的初始脚本（startup scripts），这些脚本是Linux中常见的shell scripts。这些脚本执行如下功能：\n设置计算机名称，时区，检测文件系统，挂载硬盘，清空临时文件，设置网络等 当这些初始脚本，操作系统已经完全准备好了，只是，还没有人可以登录！！！init会给出登录（login）对话框，或者是图形化的登录界面。\n输入用户名（比如说luenci）和密码，DONE！\n在此后的过程中，你将以用户（user）luenci的身份操作电脑。此外，根据你创建用户时的设定，Linux还会将你归到某个组（group）中，比如可以是stupid组，或者是luenci组。所以你将是用户luenci，同时是luenci组的组员。（注意，组luenci和用户luenci只是重名而已，就好想你可以叫Dell，同时还是Dell公司的老板一样。你完全也可以是用户luenci，同时为stupid组的组员）\n启动级别 7种运行级别\n运行级别（Runlevel）指的是Unix或者Linux等类Unix操作系统的运行模式，不同的运行模式下系统的功能也有所有不同。Linux 系统下通常分为7种运行级别，分别是从0到6。各级别介绍如下：\n0–停机模式\n在这种模式下，系统处于停机状态，系统默认运行级别不能设为0，否则将不能正常启动。这个运行级别主要用于关闭任务，在/etc/rc0.d目录下的各个连接命令都是此级别的命令，在关闭系统时，这些命令将被逐个执行。它 们会杀掉所有进程、关闭虚拟内存和交换文件、卸载文件系统和交换分区。 1– 单用户模式。\n在这种运行模下，系统处于单用户工作状态，登录用户具有root权限，文件系统被加载但是网络却没有被加载，因此也无法远程登陆。这个运行级别，只允一个用户从本地计算机上登录，/etc/rc1.d目录下的所有文件与此运行级别相关连，这个运行级别一般用于系统管理与维护。 2 - -多用户模式。\n用户可以通过网络进行登录，但没有NFS（Network File System），即网络文件统。/etc/rc2.d目录下所有文件与此级别相连。 3 - -完全多用户模式。\n用户可以通过网络进行登录，且有NFS，用户登陆后会进入控制台命令行模式。这也是缺省的运行模式，在这种运行级别下所有网络服务程序会一起运行。/etc/rc2.d录下的文件与此级别相连\n4 - -自定义模式。\n这是一种系统未使用的保留模式，/etc/rc4.d目录与此级别相连。这一级别是用户自定义的运行级别，用户可以根自己的需要进行一些自定义设置。如果想要运行这一级别的话，必须在rc3.d目录下放入连接文件，就像其他rc*.d目录下的文件，并指明是启动还是终止进程。 5 - -图形化模式。\n在 Linux 下运行X Window就是使用这一运行级别，用户登录后将进入图形化的GUI界面。在这一级别下除了DNS的named与级别3不同，其余的都相同。 6 – 重启模式。\n系统正常关闭并重启，默认运行级别不能设为5，否则系统将不能正常启动。/etc/rc6.d目录与此级别相连。在这一运行级别下，不会关闭电源，/etc/rc6.d目录下的连接与rc0.d目录下的连接基本相同；不同之处在于，虽然它们都执行halt（关闭）命令，但是给halt传递的参数不同，所级别6会重新启动系统而0会关闭系统。 GRUB加密 GRUB程序和grub.conf文件 1）掌握GRUB的定义：GRUB是Grand Unified Boot loader（多重操作系统启动管理器）的缩写。 心 2）掌握grub的配置文件为：grub.conf设置grub Md5加密命令grub-md5-crypt Password=明文或password-md5密文（编辑grub配置文件的密码） Title red hat 标题 Password=明文或password--md5密文（加载内核系统引导必须的密码） BIOS加密 设置BIOS密码来防止更改GRU配置文件 但是这种方法可将主板电池扣下，主板自动还原，密码也失效了 没有绝对的安全，要不停的学习\n目录结构 在Linux或UNIX操作系统中，所有的文件和目录都被组织成一个以根节点开始的倒置的树状结构。 顶层根目录的表示 使用'/'来表示根目录 文件系统中的特殊目录 .表示当前目录，即用户所在的工作目录 ..表示父目录，即当前目录的上一层目录 ~代表当前用户的家目录（home） 一些重要目录 bin目录：用来存放常用的可执行文件 sbin目录：用来存放系统的可执行文件 home家目录：用来存放用户自己的文件或目录，其中，超级用户root的家目普通用户的家目录被存放在/home目录下，并使用用户名作为最后一级目的名称，如luenci用户的家目录为/home/luenci dev目录：设备文件目录 etc目录：配置文件目录 挂载点（目录）：通常可移除式硬件会被挂载在/media或/mnt目录之下 用户，群组，权限管理 /etc/passed文件中存放用户的信息 分别对应的是：用户名：密码：user_id：group_id：描述名：家目录（home）：登录后执行的命令 如果执行的登录命令为：/bin/bash则可以登录 如果执行的登录命令为：/sbin/nologin则不可以登录 user_id: 500以前id号为系统占用的 useradd命令的常用选项 -u：指定用户的UID -g：指定用户所属的群组 -d：指定用户的家目录 -c：指定用户的备注信息 -s：指定用户所用的shell -r: 删除用户 文件的权限管理 权限信息(用户权限(u);组权限(g);其他用户权限(0))；硬链接数；用户；用户组；文件大小；文件创建日期 r-\u003e4 w-\u003e2 x-\u003e1 -开头代表一个文件类型\nd开头代表一个目录类型\nl开头代表一个软链接\nb（block）开头代表设备文件\np开头有代表管道文件\n对于可执行文件的运行 sh 可执行文件名 bash 可执行文件名 ./可执行文件名 . 可执行文件名 目录的权限管理 ll -d 目录查看目录的权限 更改文件的用户和组 chown 用户.组别 文件名 chown -R递归修改用户和组 文件合并 wc -l 文件名统计文件行数\n\u003e以覆盖的方式写入内容\n\u003e\u003e以追加的方式写入内容\n解压和压缩命令 1、.tar 解包：tar xvf FileName.tar 打包：tar cvf FileName.tar DirName （注：tar是打包，不是压缩！）\n2、.gz\n解压1：gunzip FileName.gz 解压2：gzip -d FileName.gz 压缩：gzip FileName\n3、.tar.gz 和 .tgz\n解压：tar zxvf FileName.tar.gz 压缩：tar zcvf FileName.tar.gz DirName\n4、.bz2\n解压1：bzip2 -d FileName.bz2 解压2：bunzip2 FileName.bz2 压缩： bzip2 -z FileName\n5、.tar.bz2\n解压：tar jxvf FileName.tar.bz2 压缩：tar jcvf FileName.tar.bz2 DirName\n6、.bz\n解压1：bzip2 -d FileName.bz 解压2：bunzip2 FileName.bz\n7、.tar.bz\n解压：tar jxvf FileName.tar.bz\n8、.Z\n解压：uncompress FileName.Z 压缩：compress FileName\n9、.tar.Z\n解压：tar Zxvf FileName.tar.Z 压缩：tar Zcvf FileName.tar.Z DirName\n10、.zip\n解压：unzip FileName.zip 压缩：zip FileName.zip DirName\n11、.rar\n解压：rar x FileName.rar 压缩：rar a FileName.rar DirName\n12、.lha\n解压：lha -e FileName.lha 压缩：lha -a FileName.lha FileName\n13、.rpm\n解包：rpm2cpio FileName.rpm | cpio -div\nvim一些常见指令 快速在屏幕中移动光标的位置的命令\nH光标移动到这个屏幕的最上方那一行的第一个字符 M无标移动到这个屏幕的中央那一行的第一个字符 L无标移动到这个屏幕的最下那一行的第一个字符 G移动到文件的最后一行\ngg移动到文件的第一行\nctrl+ r恢复上一次操作\nu撤销上一个操作\nctrl+a跳到文件的首部\nctrl+e跳到文件的尾部\nyy复制\np粘贴到行尾\nP站贴到行头\nweight命令 第一行 字符 含义 weight - 10:03:19 当前系统时间 up 137 days , 10:40 系统已运行时间 2 user 在线用户 load average: 0.00, 0.01, 0.05 系统负载。三个数值分别为 1分钟、5分钟、15分钟前到现在的平均值。 2 user，包含系统用户。\n第二行 字符 含义 Tasks : 92 total 总进程数 2 running 正在运行的进程数 90 sleeping 正在睡眠的进程数 0 sweightped 停止的进程数 0 zombie 僵尸进程数 僵尸进程:一个子进程在其父进程没有调用wait()或waitpid()的情况下退出。这个子进程就是僵尸进程。如果其父进程还存在而一直不调用wait，则该僵尸进程将无法回收，等到其父进程退出后该进程将被init回收。\n第三行 字符 含义 %Cpu(s): 0.3 us cpu占用率(%)，用户进程占用cpu百分率 0.3 sy 系统占用cpu百分率 0.0 ni 用户进程空间内改变过优先级的进程占用CPU百分比 99.3 id cpu空闲率 0.0 wa 等待IO的CPU时间百分比 0.0 hi 硬中断（Hardware IRQ）占用CPU的百分比 0.0 si 软中断（Software Interrupts）占用CPU的百分比 cpu的使用情况\n第四行 字符 含义 KiB Mem : 1016916 total 内存总量（我这里是1G） 82280 free 内存空闲量 233848 used 内存使用量 700788 buff/cache 缓存的内存量 内存使用率\n第五行 字符 含义 KiB Swap: 0 total 交换区总量 0 free 交换区空闲量 0 used 交换区使用量 swap分区\n第六行 字符 含义 PID 进程号 USER 进程创建者 PR 进程优先级 NI nice值。越小优先级越高，最小-20，最大20（用户设置最大19） VIRT 进程使用的虚拟内存总量，单位kb。VIRT=SWAP+RES RES 进程使用的、未被换出的物理内存大小，单位kb。RES=CODE+DATA SHR 共享内存大小，单位kb S 进程状态。D=不可中断的睡眠状态 R=运行 S=睡眠 T=跟踪/停止 Z=僵尸进程 %CPU 进程占用cpu百分比 %MEM 进程占用内存百分比 TIME+ 进程运行时间 COMMAND 进程名称 PR 越低优先级 越高，PRI(new)=PRI(old)+nice PR中的rt为实时进程优先级即rt_priority，prio=MAX_RT_PRIO - 1- p-\u003ert_priority MAX_RT_PRIO = 99，prio大小决定最终优先级。这样意味着rt_priority值越大，优先级越高而内核提供的修改优先级的函数，是修改rt_priority的值，所以越大，优先级越高。 例：改变优先级：进入weight后按“r”–\u003e输入进程PID–\u003e输入nice值\nweight命令（在进入weight后使用） P：以占据CPU百分比排序 M：以占据内存百分比排序 T：以累积占用CPU时间排序 q：退出命令：按q键退出weight查看页面 s：修改刷新时间间隔。按下s键，然后按下数字，即可修改刷新时间间隔为你输入的数字，单位为秒。例如：按下s键，在按数字1键，即可实现每秒刷新一次 k：终止指定的进程。按下k键–\u003e再输入要杀死的进程的pid–\u003e按enter键–\u003e(选择信号类型，以数字标示，默认15为杀死)本步可省略按enter键（常用为-9）\nfree命令 free free -m free -h ","wordCount":"5316","inLanguage":"en","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","author":{"@type":"Person","name":"Luenci"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://luenci.com/en/posts/linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86/"},"publisher":{"@type":"Organization","name":"Luenci","logo":{"@type":"ImageObject","url":"https://luenci.com/images/L.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://luenci.com/en/ accesskey=h title="Luenci (Alt + H)"><img src=https://luenci.com/images/avatar.jpg alt aria-label=logo height=35>Luenci</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://luenci.com/en/ title=🏠主页><span>🏠主页</span></a></li><li><a href=https://luenci.com/en/posts title=📚文章><span>📚文章</span></a></li><li><a href=https://luenci.com/en/search title="🔍搜索 (Alt + /)" accesskey=/><span>🔍搜索</span></a></li><li><a href=https://luenci.com/en/archives title=⏱时间轴><span>⏱时间轴</span></a></li><li><a href=https://luenci.com/en/tags title=🔖标签><span>🔖标签</span></a></li><li><a href=https://luenci.com/en/about title=🙋🏻‍♂️关于><span>🙋🏻‍♂️关于</span></a></li><li><a href=https://luenci.com/en/links title=🤝友链><span>🤝友链</span></a></li><li><a href=https://luenci.com/en/index.xml title=📬RSS><span>📬RSS</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://luenci.com/en/>Home</a>&nbsp;»&nbsp;<a href=https://luenci.com/en/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Linux学习（一）</h1><div class=post-meta>11 min&nbsp;·&nbsp;5316 words&nbsp;·&nbsp;Luenci</div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><ul><li><a href=#linux%e6%93%8d%e4%bd%9c%e7%b3%bb%e7%bb%9f aria-label=Linux操作系统>Linux操作系统</a><ul><li><a href=#%e7%b3%bb%e7%bb%9f%e5%90%af%e5%8a%a8%e6%b5%81%e7%a8%8b aria-label=系统启动流程>系统启动流程</a><ul><li><a href=#%e5%90%af%e5%8a%a8%e7%ba%a7%e5%88%ab aria-label=启动级别>启动级别</a></li><li><a href=#grub%e5%8a%a0%e5%af%86 aria-label=GRUB加密>GRUB加密</a></li><li><a href=#bios%e5%8a%a0%e5%af%86 aria-label=BIOS加密>BIOS加密</a></li></ul></li><li><a href=#%e7%9b%ae%e5%bd%95%e7%bb%93%e6%9e%84 aria-label=目录结构>目录结构</a><ul><li><a href=#%e9%a1%b6%e5%b1%82%e6%a0%b9%e7%9b%ae%e5%bd%95%e7%9a%84%e8%a1%a8%e7%a4%ba aria-label=顶层根目录的表示>顶层根目录的表示</a></li><li><a href=#%e6%96%87%e4%bb%b6%e7%b3%bb%e7%bb%9f%e4%b8%ad%e7%9a%84%e7%89%b9%e6%ae%8a%e7%9b%ae%e5%bd%95 aria-label=文件系统中的特殊目录>文件系统中的特殊目录</a></li><li><a href=#%e4%b8%80%e4%ba%9b%e9%87%8d%e8%a6%81%e7%9b%ae%e5%bd%95 aria-label=一些重要目录>一些重要目录</a></li></ul></li><li><a href=#%e7%94%a8%e6%88%b7%e7%be%a4%e7%bb%84%e6%9d%83%e9%99%90%e7%ae%a1%e7%90%86 aria-label=用户，群组，权限管理>用户，群组，权限管理</a><ul><li><a href=#useradd%e5%91%bd%e4%bb%a4%e7%9a%84%e5%b8%b8%e7%94%a8%e9%80%89%e9%a1%b9 aria-label=useradd命令的常用选项>useradd命令的常用选项</a></li></ul></li><li><a href=#%e6%96%87%e4%bb%b6%e7%9a%84%e6%9d%83%e9%99%90%e7%ae%a1%e7%90%86 aria-label=文件的权限管理>文件的权限管理</a><ul><li><a href=#%e5%af%b9%e4%ba%8e%e5%8f%af%e6%89%a7%e8%a1%8c%e6%96%87%e4%bb%b6%e7%9a%84%e8%bf%90%e8%a1%8c aria-label=对于可执行文件的运行>对于可执行文件的运行</a></li></ul></li><li><a href=#%e7%9b%ae%e5%bd%95%e7%9a%84%e6%9d%83%e9%99%90%e7%ae%a1%e7%90%86 aria-label=目录的权限管理>目录的权限管理</a></li><li><a href=#%e6%9b%b4%e6%94%b9%e6%96%87%e4%bb%b6%e7%9a%84%e7%94%a8%e6%88%b7%e5%92%8c%e7%bb%84 aria-label=更改文件的用户和组>更改文件的用户和组</a></li><li><a href=#%e6%96%87%e4%bb%b6%e5%90%88%e5%b9%b6 aria-label=文件合并>文件合并</a></li><li><a href=#%e8%a7%a3%e5%8e%8b%e5%92%8c%e5%8e%8b%e7%bc%a9%e5%91%bd%e4%bb%a4 aria-label=解压和压缩命令>解压和压缩命令</a></li><li><a href=#vim%e4%b8%80%e4%ba%9b%e5%b8%b8%e8%a7%81%e6%8c%87%e4%bb%a4 aria-label=vim一些常见指令>vim一些常见指令</a></li><li><a href=#weight%e5%91%bd%e4%bb%a4 aria-label=weight命令>weight命令</a><ul><li><a href=#%e7%ac%ac%e4%b8%80%e8%a1%8c aria-label=第一行>第一行</a></li><li><a href=#%e7%ac%ac%e4%ba%8c%e8%a1%8c aria-label=第二行>第二行</a></li><li><a href=#%e7%ac%ac%e4%b8%89%e8%a1%8c aria-label=第三行>第三行</a></li><li><a href=#%e7%ac%ac%e5%9b%9b%e8%a1%8c aria-label=第四行>第四行</a></li><li><a href=#%e7%ac%ac%e4%ba%94%e8%a1%8c aria-label=第五行>第五行</a></li><li><a href=#%e7%ac%ac%e5%85%ad%e8%a1%8c aria-label=第六行>第六行</a></li><li><a href=#weight%e5%91%bd%e4%bb%a4%e5%9c%a8%e8%bf%9b%e5%85%a5weight%e5%90%8e%e4%bd%bf%e7%94%a8 aria-label=weight命令（在进入weight后使用）>weight命令（在进入weight后使用）</a></li></ul></li><li><a href=#free%e5%91%bd%e4%bb%a4 aria-label=free命令>free命令</a></li></ul></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h1 id=linux操作系统>Linux操作系统<a hidden class=anchor aria-hidden=true href=#linux操作系统>#</a></h1><ul><li>&ldquo;一切皆文件&rdquo;</li></ul><h2 id=系统启动流程>系统启动流程<a hidden class=anchor aria-hidden=true href=#系统启动流程>#</a></h2><p>引导图</p><p><img loading=lazy src=https://raw.githubusercontent.com/Lucareful/ImgRepo/master/img/hexo_img/image-20200502160423268.png alt=引导图></p><ul><li><p>最初始阶段
当我们打开计算机电源，计算机会自动从主板的<code>BlOS</code>（Basic Input/output System）读取其中所存储的程序。这一程序通常知道一些直接连接在主板上的硬件（硬盘，网络接口，键盘，串口，并口）。现在大部分的BIOS允许你从软盘、光盘或者硬盘中选择一个来启动计算机。</p></li><li><p>下一步，计算机将从你所选择的存储设备中读取起始的512 bytes（比如光盘一开是的512 bytes，如果我们从光盘启动的话）。这<code>512bytes</code>叫做主引导记录<code>MBR</code>（master boot record）。<code>MBR</code>会告诉电脑从该设备的某一个分区（partition）来装载引导加载程序（boot loader）。<code>Boot loader</code>储存有操作系统（OS）的相关信息，比如操作系统名称，操作系统内核（kernel）所在位置等。常用的<code>boot loader</code>有<code>GRUB</code>和<code>LILO</code>。</p></li><li><p>随后，<code>boot loade</code>r会帮助我们加载<code>kernel</code>。<code>kernel</code>实际上是一个用来操作计算机的程序，它是计算机操作系统的内核，主要的任务是管理计算机的硬件资源，充当软件和硬件的接口。操作系统上的任何操作都要通过<code>kernel</code>传达给硬件。<code>Windows</code>和<code>Linux</code>各自有自己<code>kernel</code>。</p></li><li><p>狭义的操作系统就是指<code>kernel</code>，广义的操作系统包括<code>kernel</code>以及<code>kernel</code>之上的各种应用。</p></li><li><p>（Linus Torvalds与其说是Linux之父，不如说是<code>Linux kernel</code>之父。他依然负责<code>Linux kernel</code>的开发和维护。至于<code>Ubuntu</code>，<code>Red Hat</code>，它们都是基于相同的<code>kernel</code>之上，囊括了不同的应用和界面构成的一个更加完整的操作系统版本。）实际上，我们可以在多个分区安装<code>boot loader</code>，每个<code>boot loader</code>对应不同的操作系统，在读取<code>MBR</code>的时候选择我们想要启动的boot loader。这就是多操作系统的原理。</p></li><li><p>小结：<code>BlOS -> MBR -> boot loader -> kernel</code></p></li><li><p>kernel</p><ul><li>如果我们加载的是Linux kernel，Linux kernel开始工作。kernel会首先预留自己运行所需的内存空间，然后通过驱动程序（driver）检测计算机硬件。这样，操作系统就可以知道自己有哪些硬件可用。随后，kernel会启动一个init进程。它是Linux系统中的1号进程（Linux系统没有0号进程）。到此，kernel就完成了在计算机启动阶段的工作，交接给init来管理。</li><li>小结：<code>kernel -> init process</code></li></ul></li><li><p><code>init process</code></p><p>（根据boot loader的选项，Linux此时可以进入单用户模式（single user mode））。在此模式下，初始脚本还没有开始执行，我们可以检测并修复计算机可能存在的错误）随后，init会运行一系列的初始脚本（startup scripts），这些脚本是Linux中常见的shell scripts。这些脚本执行如下功能：</p><ul><li>设置计算机名称，时区，检测文件系统，挂载硬盘，清空临时文件，设置网络等</li></ul><p>当这些初始脚本，操作系统已经完全准备好了，只是，还没有人可以登录！！！init会给出登录（login）对话框，或者是图形化的登录界面。</p></li><li><p>输入用户名（比如说luenci）和密码，DONE！</p></li><li><p>在此后的过程中，你将以用户（user）luenci的身份操作电脑。此外，根据你创建用户时的设定，Linux还会将你归到某个组（group）中，比如可以是stupid组，或者是luenci组。所以你将是用户luenci，同时是luenci组的组员。（注意，组luenci和用户luenci只是重名而已，就好想你可以叫Dell，同时还是Dell公司的老板一样。你完全也可以是用户luenci，同时为stupid组的组员）</p></li></ul><h3 id=启动级别>启动级别<a hidden class=anchor aria-hidden=true href=#启动级别>#</a></h3><ul><li><p>7种运行级别</p><p>运行级别（<code>Runlevel</code>）指的是Unix或者Linux等类Unix操作系统的运行模式，不同的运行模式下系统的功能也有所有不同。Linux 系统下通常分为<code>7</code>种运行级别，分别是从<code>0</code>到<code>6</code>。各级别介绍如下：</p></li><li><p><code>0</code>&ndash;停机模式</p><ul><li>在这种模式下，系统处于停机状态，系统默认运行级别不能设为<code>0</code>，否则将不能正常启动。这个运行级别主要用于关闭任务，在<code>/etc/rc0.d</code>目录下的各个连接命令都是此级别的命令，在关闭系统时，这些命令将被逐个执行。它 们会杀掉所有进程、关闭虚拟内存和交换文件、卸载文件系统和交换分区。</li></ul></li><li><p><code>1</code>&ndash; 单用户模式。</p><ul><li>在这种运行模下，系统处于单用户工作状态，登录用户具有root权限，文件系统被加载但是网络却没有被加载，因此也无法远程登陆。这个运行级别，只允一个用户从本地计算机上登录，<code>/etc/rc1.d</code>目录下的所有文件与此运行级别相关连，这个运行级别一般用于系统管理与维护。</li></ul></li><li><p><code>2</code> - -多用户模式。</p><ul><li>用户可以通过网络进行登录，但没有<code>NFS</code>（Network File System），即网络文件统。<code>/etc/rc2.d</code>目录下所有文件与此级别相连。</li></ul></li><li><p><code>3</code> - -完全多用户模式。</p></li><li><p>用户可以通过网络进行登录，且有<code>NFS</code>，用户登陆后会进入控制台命令行模式。这也是缺省的运行模式，在这种运行级别下所有网络服务程序会一起运行。<code>/etc/rc2.d</code>录下的文件与此级别相连</p></li><li><p><code>4</code> - -自定义模式。</p><ul><li>这是一种系统未使用的保留模式，<code>/etc/rc4.d</code>目录与此级别相连。这一级别是用户自定义的运行级别，用户可以根自己的需要进行一些自定义设置。如果想要运行这一级别的话，必须在<code>rc3.d</code>目录下放入连接文件，就像其他<code>rc*.d</code>目录下的文件，并指明是启动还是终止进程。</li></ul></li><li><p><code>5</code> - -图形化模式。</p><ul><li>在 Linux 下运行<code>X Window</code>就是使用这一运行级别，用户登录后将进入图形化的GUI界面。在这一级别下除了DNS的<code>named</code>与级别<code>3</code>不同，其余的都相同。</li></ul></li><li><p><code>6</code> &ndash; 重启模式。</p><ul><li>系统正常关闭并重启，默认运行级别不能设为<code>5</code>，否则系统将不能正常启动。<code>/etc/rc6.d</code>目录与此级别相连。在这一运行级别下，不会关闭电源，<code>/etc/rc6.d</code>目录下的连接与<code>rc0.d</code>目录下的连接基本相同；不同之处在于，虽然它们都执行<code>halt</code>（关闭）命令，但是给<code>halt</code>传递的参数不同，所级别<code>6</code>会重新启动系统而<code>0</code>会关闭系统。</li></ul></li></ul><h3 id=grub加密>GRUB加密<a hidden class=anchor aria-hidden=true href=#grub加密>#</a></h3><ul><li><code>GRUB</code>程序和<code>grub.conf</code>文件</li><li>1）掌握GRUB的定义：<code>GRUB</code>是<code>Grand Unified Boot loader</code>（多重操作系统启动管理器）的缩写。
心</li><li>2）掌握grub的配置文件为：<code>grub.conf</code>设置<code>grub Md5</code>加密命令<code>grub-md5-crypt</code><ul><li><code>Password=明文</code>或<code>password-md5密文</code>（编辑grub配置文件的密码）</li></ul></li><li>Title red hat 标题<ul><li><code>Password=明文或password--md5密文</code>（加载内核系统引导必须的密码）</li></ul></li></ul><p><img loading=lazy src=https://raw.githubusercontent.com/Lucareful/ImgRepo/master/img/hexo_img/image-20200502155136848.png alt=grub配置></p><h3 id=bios加密>BIOS加密<a hidden class=anchor aria-hidden=true href=#bios加密>#</a></h3><ul><li>设置BIOS密码来防止更改GRU配置文件</li><li>但是这种方法可将主板电池扣下，主板自动还原，密码也失效了</li></ul><p><em><code>没有绝对的安全，要不停的学习</code></em></p><h2 id=目录结构>目录结构<a hidden class=anchor aria-hidden=true href=#目录结构>#</a></h2><ul><li>在Linux或UNIX操作系统中，所有的文件和目录都被组织成一个以根节点开始的倒置的<em><strong>树状结构</strong></em>。</li></ul><h3 id=顶层根目录的表示>顶层根目录的表示<a hidden class=anchor aria-hidden=true href=#顶层根目录的表示>#</a></h3><ul><li>使用<code>'/'</code>来表示根目录</li></ul><h3 id=文件系统中的特殊目录>文件系统中的特殊目录<a hidden class=anchor aria-hidden=true href=#文件系统中的特殊目录>#</a></h3><ul><li><code>.</code>表示当前目录，即用户所在的工作目录</li><li><code>..</code>表示父目录，即当前目录的上一层目录</li><li><code>~</code>代表当前用户的家目录（home）</li></ul><h3 id=一些重要目录>一些重要目录<a hidden class=anchor aria-hidden=true href=#一些重要目录>#</a></h3><ol><li><code>bin</code>目录：用来存放常用的可执行文件</li><li><code>sbin</code>目录：用来存放系统的可执行文件</li><li><code>home</code>家目录：用来存放用户自己的文件或目录，其中，超级用户<code>root</code>的家目普通用户的家目录被存放在<code>/home</code>目录下，并使用用户名作为最后一级目的名称，如<code>luenci</code>用户的家目录为<code>/home/luenci</code></li><li><code>dev</code>目录：设备文件目录</li><li><code>etc</code>目录：配置文件目录</li><li>挂载点（目录）：通常可移除式硬件会被挂载在<code>/media</code>或<code>/mnt</code>目录之下</li></ol><h2 id=用户群组权限管理>用户，群组，权限管理<a hidden class=anchor aria-hidden=true href=#用户群组权限管理>#</a></h2><ul><li><code>/etc/passed</code>文件中存放用户的信息</li><li>分别对应的是：<code>用户名：密码：user_id：group_id：描述名：家目录（home）：登录后执行的命令</code></li></ul><p><img loading=lazy src=https://raw.githubusercontent.com/Lucareful/ImgRepo/master/img/hexo_img/image-20200501204906550.png alt=1></p><ul><li>如果执行的登录命令为：<code>/bin/bash</code>则可以登录</li><li>如果执行的登录命令为：<code>/sbin/nologin</code>则不可以登录</li><li><code>user_id</code>: 500以前id号为系统占用的</li></ul><h3 id=useradd命令的常用选项>useradd命令的常用选项<a hidden class=anchor aria-hidden=true href=#useradd命令的常用选项>#</a></h3><ul><li><code>-u</code>：指定用户的UID</li><li><code>-g</code>：指定用户所属的群组</li><li><code>-d</code>：指定用户的家目录</li><li><code>-c</code>：指定用户的备注信息</li><li><code>-s</code>：指定用户所用的shell</li><li><code>-r</code>: 删除用户</li></ul><h2 id=文件的权限管理>文件的权限管理<a hidden class=anchor aria-hidden=true href=#文件的权限管理>#</a></h2><ul><li>权限信息(用户权限(u);组权限(g);其他用户权限(0))；硬链接数；用户；用户组；文件大小；文件创建日期</li><li>r->4</li><li>w->2</li><li>x->1</li></ul><p><img loading=lazy src=https://raw.githubusercontent.com/Lucareful/ImgRepo/master/img/hexo_img/image-20200501215623758.png alt=2></p><ul><li><p><code>-</code>开头代表一个文件类型</p></li><li><p><code>d</code>开头代表一个目录类型</p></li><li><p><code>l</code>开头代表一个软链接</p></li><li><p><code>b（block）</code>开头代表设备文件</p></li><li><p><code>p</code>开头有代表管道文件</p></li></ul><h3 id=对于可执行文件的运行>对于可执行文件的运行<a hidden class=anchor aria-hidden=true href=#对于可执行文件的运行>#</a></h3><ul><li><code>sh 可执行文件名</code></li><li><code>bash 可执行文件名</code></li><li><code>./可执行文件名</code></li><li><code>. 可执行文件名</code></li></ul><h2 id=目录的权限管理>目录的权限管理<a hidden class=anchor aria-hidden=true href=#目录的权限管理>#</a></h2><ul><li><code>ll -d 目录</code>查看目录的权限</li><li><img loading=lazy src=https://raw.githubusercontent.com/Lucareful/ImgRepo/master/img/hexo_img/image-20200502123137125.png alt=3></li></ul><h2 id=更改文件的用户和组>更改文件的用户和组<a hidden class=anchor aria-hidden=true href=#更改文件的用户和组>#</a></h2><ul><li><code>chown 用户.组别 文件名</code></li><li><code>chown -R</code>递归修改用户和组</li></ul><p><img loading=lazy src=https://raw.githubusercontent.com/Lucareful/ImgRepo/master/img/hexo_img/image-20200502123543551.png alt=4></p><h2 id=文件合并>文件合并<a hidden class=anchor aria-hidden=true href=#文件合并>#</a></h2><ul><li><p><code>wc -l 文件名</code>统计文件行数</p></li><li><p><code>></code>以覆盖的方式写入内容</p></li><li><p><code>>></code>以追加的方式写入内容</p></li></ul><p><img loading=lazy src=https://raw.githubusercontent.com/Lucareful/ImgRepo/master/img/hexo_img/image-20200502132024461.png alt></p><h2 id=解压和压缩命令>解压和压缩命令<a hidden class=anchor aria-hidden=true href=#解压和压缩命令>#</a></h2><p>1、.<code>tar</code></p><p>解包：<code>tar xvf FileName.tar</code>
打包：<code>tar cvf FileName.tar DirName</code>
（注：tar是打包，不是压缩！）</p><p>2、<code>.gz</code></p><p>解压1：<code>gunzip FileName.gz</code>
解压2：<code>gzip -d FileName.gz</code>
压缩：<code>gzip FileName</code></p><p>3、<code>.tar.gz</code> 和<code> .tgz</code></p><p>解压：<code>tar zxvf FileName.tar.gz</code>
压缩：<code>tar zcvf FileName.tar.gz DirName</code></p><p>4、<code>.bz2</code></p><p>解压1：<code>bzip2 -d FileName.bz2</code>
解压2：<code>bunzip2 FileName.bz2</code>
压缩：<code> bzip2 -z FileName</code></p><p>5、<code>.tar.bz2</code></p><p>解压：<code>tar jxvf FileName.tar.bz2</code>
压缩：<code>tar jcvf FileName.tar.bz2 DirName</code></p><p>6、<code>.bz</code></p><p>解压1：<code>bzip2 -d FileName.bz</code>
解压2：<code>bunzip2 FileName.bz</code></p><p>7、<code>.tar.bz</code></p><p>解压：<code>tar jxvf FileName.tar.bz</code></p><p>8、.Z</p><p>解压：<code>uncompress FileName.Z</code>
压缩：<code>compress FileName</code></p><p>9、<code>.tar.Z</code></p><p>解压：<code>tar Zxvf FileName.tar.Z</code>
压缩：<code>tar Zcvf FileName.tar.Z DirName</code></p><p>10、<code>.zip</code></p><p>解压：<code>unzip FileName.zip</code>
压缩：<code>zip FileName.zip DirName</code></p><p>11、<code>.rar</code></p><p>解压：<code>rar x FileName.rar</code>
压缩：<code>rar a FileName.rar DirName</code></p><p>12、<code>.lha</code></p><p>解压：<code>lha -e FileName.lha</code>
压缩：<code>lha -a FileName.lha FileName</code></p><p>13、<code>.rpm</code></p><p>解包：<code>rpm2cpio FileName.rpm | cpio -div</code></p><h2 id=vim一些常见指令>vim一些常见指令<a hidden class=anchor aria-hidden=true href=#vim一些常见指令>#</a></h2><ul><li><p>快速在屏幕中移动光标的位置的命令</p><ul><li><code>H</code>光标移动到这个屏幕的最上方那一行的第一个字符</li><li><code>M</code>无标移动到这个屏幕的中央那一行的第一个字符</li><li><code>L</code>无标移动到这个屏幕的最下那一行的第一个字符</li></ul></li><li><p><code>G</code>移动到文件的最后一行</p></li><li><p><code>gg</code>移动到文件的第一行</p></li><li><p><code>ctrl+ r</code>恢复上一次操作</p></li><li><p><code>u</code>撤销上一个操作</p></li><li><p><code>ctrl+a</code>跳到文件的首部</p></li><li><p><code>ctrl+e</code>跳到文件的尾部</p></li><li><p><code>yy</code>复制</p></li><li><p><code>p</code>粘贴到行尾</p></li><li><p><code>P</code>站贴到行头</p></li></ul><h2 id=weight命令>weight命令<a hidden class=anchor aria-hidden=true href=#weight命令>#</a></h2><p><img loading=lazy src=https://raw.githubusercontent.com/Lucareful/ImgRepo/master/img/hexo_img/image-20200502170646416.png alt></p><h3 id=第一行>第一行<a hidden class=anchor aria-hidden=true href=#第一行>#</a></h3><table><thead><tr><th style=text-align:center>字符</th><th style=text-align:center>含义</th></tr></thead><tbody><tr><td style=text-align:center>weight - 10:03:19</td><td style=text-align:center>当前系统时间</td></tr><tr><td style=text-align:center>up 137 days , 10:40</td><td style=text-align:center>系统已运行时间</td></tr><tr><td style=text-align:center>2 user</td><td style=text-align:center>在线用户</td></tr><tr><td style=text-align:center>load average: 0.00, 0.01, 0.05</td><td style=text-align:center>系统负载。三个数值分别为 1分钟、5分钟、15分钟前到现在的平均值。</td></tr></tbody></table><blockquote><p>2 user，包含系统用户。</p></blockquote><hr><h3 id=第二行>第二行<a hidden class=anchor aria-hidden=true href=#第二行>#</a></h3><table><thead><tr><th style=text-align:center>字符</th><th style=text-align:center>含义</th></tr></thead><tbody><tr><td style=text-align:center>Tasks : 92 total</td><td style=text-align:center>总进程数</td></tr><tr><td style=text-align:center>2 running</td><td style=text-align:center>正在运行的进程数</td></tr><tr><td style=text-align:center>90 sleeping</td><td style=text-align:center>正在睡眠的进程数</td></tr><tr><td style=text-align:center>0 sweightped</td><td style=text-align:center>停止的进程数</td></tr><tr><td style=text-align:center>0 zombie</td><td style=text-align:center>僵尸进程数</td></tr></tbody></table><blockquote><p>僵尸进程:一个子进程在其父进程没有调用wait()或waitpid()的情况下退出。这个子进程就是僵尸进程。如果其父进程还存在而一直不调用wait，则该僵尸进程将无法回收，等到其父进程退出后该进程将被init回收。</p></blockquote><hr><h3 id=第三行>第三行<a hidden class=anchor aria-hidden=true href=#第三行>#</a></h3><table><thead><tr><th style=text-align:center>字符</th><th style=text-align:center>含义</th></tr></thead><tbody><tr><td style=text-align:center>%Cpu(s): 0.3 us</td><td style=text-align:center>cpu占用率(%)，用户进程占用cpu百分率</td></tr><tr><td style=text-align:center>0.3 sy</td><td style=text-align:center>系统占用cpu百分率</td></tr><tr><td style=text-align:center>0.0 ni</td><td style=text-align:center>用户进程空间内改变过优先级的进程占用CPU百分比</td></tr><tr><td style=text-align:center>99.3 id</td><td style=text-align:center>cpu空闲率</td></tr><tr><td style=text-align:center>0.0 wa</td><td style=text-align:center>等待IO的CPU时间百分比</td></tr><tr><td style=text-align:center>0.0 hi</td><td style=text-align:center>硬中断（Hardware IRQ）占用CPU的百分比</td></tr><tr><td style=text-align:center>0.0 si</td><td style=text-align:center>软中断（Software Interrupts）占用CPU的百分比</td></tr></tbody></table><blockquote><p>cpu的使用情况</p></blockquote><hr><h3 id=第四行>第四行<a hidden class=anchor aria-hidden=true href=#第四行>#</a></h3><table><thead><tr><th style=text-align:center>字符</th><th style=text-align:center>含义</th></tr></thead><tbody><tr><td style=text-align:center>KiB Mem : 1016916 total</td><td style=text-align:center>内存总量（我这里是1G）</td></tr><tr><td style=text-align:center>82280 free</td><td style=text-align:center>内存空闲量</td></tr><tr><td style=text-align:center>233848 used</td><td style=text-align:center>内存使用量</td></tr><tr><td style=text-align:center>700788 buff/cache</td><td style=text-align:center>缓存的内存量</td></tr></tbody></table><blockquote><p>内存使用率</p></blockquote><hr><h3 id=第五行>第五行<a hidden class=anchor aria-hidden=true href=#第五行>#</a></h3><table><thead><tr><th style=text-align:center>字符</th><th style=text-align:center>含义</th></tr></thead><tbody><tr><td style=text-align:center>KiB Swap: 0 total</td><td style=text-align:center>交换区总量</td></tr><tr><td style=text-align:center>0 free</td><td style=text-align:center>交换区空闲量</td></tr><tr><td style=text-align:center>0 used</td><td style=text-align:center>交换区使用量</td></tr></tbody></table><blockquote><p>swap分区</p></blockquote><hr><h3 id=第六行>第六行<a hidden class=anchor aria-hidden=true href=#第六行>#</a></h3><table><thead><tr><th style=text-align:center>字符</th><th style=text-align:center>含义</th></tr></thead><tbody><tr><td style=text-align:center>PID</td><td style=text-align:center>进程号</td></tr><tr><td style=text-align:center>USER</td><td style=text-align:center>进程创建者</td></tr><tr><td style=text-align:center>PR</td><td style=text-align:center>进程优先级</td></tr><tr><td style=text-align:center>NI</td><td style=text-align:center>nice值。越小优先级越高，最小-20，最大20（用户设置最大19）</td></tr><tr><td style=text-align:center>VIRT</td><td style=text-align:center>进程使用的虚拟内存总量，单位kb。VIRT=SWAP+RES</td></tr><tr><td style=text-align:center>RES</td><td style=text-align:center>进程使用的、未被换出的物理内存大小，单位kb。RES=CODE+DATA</td></tr><tr><td style=text-align:center>SHR</td><td style=text-align:center>共享内存大小，单位kb</td></tr><tr><td style=text-align:center>S</td><td style=text-align:center>进程状态。D=不可中断的睡眠状态 R=运行 S=睡眠 T=跟踪/停止 Z=僵尸进程</td></tr><tr><td style=text-align:center>%CPU</td><td style=text-align:center>进程占用cpu百分比</td></tr><tr><td style=text-align:center>%MEM</td><td style=text-align:center>进程占用内存百分比</td></tr><tr><td style=text-align:center>TIME+</td><td style=text-align:center>进程运行时间</td></tr><tr><td style=text-align:center>COMMAND</td><td style=text-align:center>进程名称</td></tr></tbody></table><blockquote><p>PR 越低优先级 越高，PRI(new)=PRI(old)+nice
PR中的rt为实时进程优先级即rt_priority，prio=MAX_RT_PRIO - 1- p->rt_priority
MAX_RT_PRIO = 99，prio大小决定最终优先级。这样意味着rt_priority值越大，优先级越高而内核提供的修改优先级的函数，是修改rt_priority的值，所以越大，优先级越高。
例：改变优先级：进入weight后按“r”–>输入进程PID–>输入nice值</p></blockquote><h3 id=weight命令在进入weight后使用>weight命令（在进入weight后使用）<a hidden class=anchor aria-hidden=true href=#weight命令在进入weight后使用>#</a></h3><blockquote><p>P：以占据CPU百分比排序
M：以占据内存百分比排序
T：以累积占用CPU时间排序
q：退出命令：按q键退出weight查看页面
s：修改刷新时间间隔。按下s键，然后按下数字，即可修改刷新时间间隔为你输入的数字，单位为秒。例如：按下s键，在按数字1键，即可实现每秒刷新一次
k：终止指定的进程。按下k键&ndash;>再输入要杀死的进程的pid&ndash;>按enter键&ndash;>(选择信号类型，以数字标示，默认15为杀死)本步可省略按enter键（常用为-9）</p></blockquote><h2 id=free命令>free命令<a hidden class=anchor aria-hidden=true href=#free命令>#</a></h2><ul><li><code>free</code></li><li><code>free -m</code></li><li><code>free -h</code></li></ul><p><img loading=lazy src=https://raw.githubusercontent.com/Lucareful/ImgRepo/master/img/hexo_img/image-20200502171251931.png alt></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://luenci.com/en/tags/linux%E7%9F%A5%E8%AF%86/>Linux知识</a></li></ul><nav class=paginav><a class=prev href=https://luenci.com/en/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/><span class=title>« Prev</span><br><span>Java面向对象</span>
</a><a class=next href=https://luenci.com/en/posts/linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E4%BA%8C/><span class=title>Next »</span><br><span>Linux学习（二）</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Linux学习（一） on x" href="https://x.com/intent/tweet/?text=Linux%e5%ad%a6%e4%b9%a0%ef%bc%88%e4%b8%80%ef%bc%89&amp;url=https%3a%2f%2fluenci.com%2fen%2fposts%2flinux%25E6%2593%258D%25E4%25BD%259C%25E7%25B3%25BB%25E7%25BB%259F%25E6%25A0%25B8%25E5%25BF%2583%25E7%259F%25A5%25E8%25AF%2586%2f&amp;hashtags=Linux%e7%9f%a5%e8%af%86"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Linux学习（一） on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fluenci.com%2fen%2fposts%2flinux%25E6%2593%258D%25E4%25BD%259C%25E7%25B3%25BB%25E7%25BB%259F%25E6%25A0%25B8%25E5%25BF%2583%25E7%259F%25A5%25E8%25AF%2586%2f&amp;title=Linux%e5%ad%a6%e4%b9%a0%ef%bc%88%e4%b8%80%ef%bc%89&amp;summary=Linux%e5%ad%a6%e4%b9%a0%ef%bc%88%e4%b8%80%ef%bc%89&amp;source=https%3a%2f%2fluenci.com%2fen%2fposts%2flinux%25E6%2593%258D%25E4%25BD%259C%25E7%25B3%25BB%25E7%25BB%259F%25E6%25A0%25B8%25E5%25BF%2583%25E7%259F%25A5%25E8%25AF%2586%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Linux学习（一） on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fluenci.com%2fen%2fposts%2flinux%25E6%2593%258D%25E4%25BD%259C%25E7%25B3%25BB%25E7%25BB%259F%25E6%25A0%25B8%25E5%25BF%2583%25E7%259F%25A5%25E8%25AF%2586%2f&title=Linux%e5%ad%a6%e4%b9%a0%ef%bc%88%e4%b8%80%ef%bc%89"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Linux学习（一） on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fluenci.com%2fen%2fposts%2flinux%25E6%2593%258D%25E4%25BD%259C%25E7%25B3%25BB%25E7%25BB%259F%25E6%25A0%25B8%25E5%25BF%2583%25E7%259F%25A5%25E8%25AF%2586%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Linux学习（一） on whatsapp" href="https://api.whatsapp.com/send?text=Linux%e5%ad%a6%e4%b9%a0%ef%bc%88%e4%b8%80%ef%bc%89%20-%20https%3a%2f%2fluenci.com%2fen%2fposts%2flinux%25E6%2593%258D%25E4%25BD%259C%25E7%25B3%25BB%25E7%25BB%259F%25E6%25A0%25B8%25E5%25BF%2583%25E7%259F%25A5%25E8%25AF%2586%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Linux学习（一） on telegram" href="https://telegram.me/share/url?text=Linux%e5%ad%a6%e4%b9%a0%ef%bc%88%e4%b8%80%ef%bc%89&amp;url=https%3a%2f%2fluenci.com%2fen%2fposts%2flinux%25E6%2593%258D%25E4%25BD%259C%25E7%25B3%25BB%25E7%25BB%259F%25E6%25A0%25B8%25E5%25BF%2583%25E7%259F%25A5%25E8%25AF%2586%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Linux学习（一） on ycombinator" href="https://news.ycombinator.com/submitlink?t=Linux%e5%ad%a6%e4%b9%a0%ef%bc%88%e4%b8%80%ef%bc%89&u=https%3a%2f%2fluenci.com%2fen%2fposts%2flinux%25E6%2593%258D%25E4%25BD%259C%25E7%25B3%25BB%25E7%25BB%259F%25E6%25A0%25B8%25E5%25BF%2583%25E7%259F%25A5%25E8%25AF%2586%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><script src=https://giscus.app/client.js data-repo=Lucareful/Lucareful.github.io data-repo-id="MDEwOlJlcG9zaXRvcnkxOTMzMDM3NDA=" data-category=Q&A data-category-id=DIC_kwDOC4WUvM4ChdIQ data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=light data-lang=zh-CN data-loading=lazy crossorigin=anonymous async></script></article></main><footer class=footer><script src=https://sdk.jinrishici.com/v2/browser/jinrishici.js></script><script type=text/javascript>jinrishici.load(function(e){var t=document.querySelector(".poem_sentence"),n=document.querySelector(".poem_info");t.innerHTML=e.data.content,n.innerHTML="—— "+e.data.origin.author})</script><span><a id=running-time></a><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><span id=busuanzi_container><link rel=stylesheet href=//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css>👁️‍🗨️访客人数: <span id=busuanzi_value_site_uv></span>|
🌐访问量: <span id=busuanzi_value_site_pv></span></span></span><br><span>&copy; 2024 <a href=https://luenci.com/en/>Luenci</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a> 📖
<text class=poem_sentence></text><text class=poem_info></text></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})});const RunningTimerInterval=1e3,StartTime=new Date("10/11/2018 00:00:00");function prefixZero(e){return e<10&&(e="0"+e),e}function updateTime(){const r=new Date;let e=r.getTime()-StartTime.getTime();const t=24*60*60*1e3,n=Math.floor(e/t);e-=n*t;const s=60*60*1e3,o=Math.floor(e/s);e-=o*s;const i=60*1e3,a=Math.floor(e/i);e-=a*i;const c=Math.floor(e/1e3),l=document.getElementById("running-time");l.innerText="🕚: "+n+"天"+prefixZero(o)+"小时"+prefixZero(a)+"分"+prefixZero(c)+"秒"}document.addEventListener("DOMContentLoaded",()=>{let e=setInterval(updateTime,RunningTimerInterval)})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>