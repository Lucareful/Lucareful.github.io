<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | Luenci</title>
<meta name=keywords content><meta name=description content="Posts - Luenci"><meta name=author content="Luenci"><link rel=canonical href=https://luenci.com/en/posts/><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://luenci.com/images/L.png><link rel=icon type=image/png sizes=16x16 href=https://luenci.com/images/L.png><link rel=icon type=image/png sizes=32x32 href=https://luenci.com/images/L.png><link rel=apple-touch-icon href=https://luenci.com/L.png><link rel=mask-icon href=https://luenci.com/L.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://luenci.com/en/posts/index.xml><link rel=alternate hreflang=en href=https://luenci.com/en/posts/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script defer src=https://umami.luenci.com/script.js data-website-id=b0a9e971-b470-43a2-bda9-182c654377f4></script><meta property="og:title" content="Posts"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://luenci.com/en/posts/"><meta property="og:site_name" content="(ã€ƒ'â–½'ã€ƒ)"><meta name=twitter:card content="summary"><meta name=twitter:title content="Posts"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://luenci.com/en/posts/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://luenci.com/en/ accesskey=h title="Luenci (Alt + H)"><img src=https://luenci.com/images/avatar.jpg alt aria-label=logo height=35>Luenci</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://luenci.com/en/ title=ğŸ ä¸»é¡µ><span>ğŸ ä¸»é¡µ</span></a></li><li><a href=https://luenci.com/en/posts title=ğŸ“šæ–‡ç« ><span class=active>ğŸ“šæ–‡ç« </span></a></li><li><a href=https://luenci.com/en/search title="ğŸ”æœç´¢ (Alt + /)" accesskey=/><span>ğŸ”æœç´¢</span></a></li><li><a href=https://luenci.com/en/archives title=â±æ—¶é—´è½´><span>â±æ—¶é—´è½´</span></a></li><li><a href=https://luenci.com/en/tags title=ğŸ”–æ ‡ç­¾><span>ğŸ”–æ ‡ç­¾</span></a></li><li><a href=https://luenci.com/en/about title=ğŸ™‹ğŸ»â€â™‚ï¸å…³äº><span>ğŸ™‹ğŸ»â€â™‚ï¸å…³äº</span></a></li><li><a href=https://luenci.com/en/links title=ğŸ¤å‹é“¾><span>ğŸ¤å‹é“¾</span></a></li><li><a href=https://luenci.com/en/index.xml title=ğŸ“¬RSS><span>ğŸ“¬RSS</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://luenci.com/en/>Home</a></div><h1>Posts</h1></header><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Linux ç½‘ç»œæ¨¡å‹</h2></header><div class=entry-content><p>linux ç½‘ç»œæ¨¡å‹ æ¦‚å¿µè¯´æ˜ åœ¨è¿›è¡Œè§£é‡Šä¹‹å‰ï¼Œé¦–å…ˆè¦è¯´æ˜å‡ ä¸ªæ¦‚å¿µï¼š
ç”¨æˆ·ç©ºé—´å’Œå†…æ ¸ç©ºé—´ è¿›ç¨‹åˆ‡æ¢ è¿›ç¨‹çš„é˜»å¡ æ–‡ä»¶æè¿°ç¬¦ ç¼“å­˜ I/O ç”¨æˆ·ç©ºé—´ä¸å†…æ ¸ç©ºé—´ â€‹ ç°åœ¨æ“ä½œç³»ç»Ÿéƒ½æ˜¯é‡‡ç”¨è™šæ‹Ÿå­˜å‚¨å™¨ï¼Œé‚£ä¹ˆå¯¹32ä½æ“ä½œç³»ç»Ÿè€Œè¨€ï¼Œå®ƒçš„å¯»å€ç©ºé—´ï¼ˆè™šæ‹Ÿå­˜å‚¨ç©ºé—´ï¼‰ä¸º4Gï¼ˆ2çš„32æ¬¡æ–¹ï¼‰ã€‚æ“ä½œç³»ç»Ÿçš„æ ¸å¿ƒæ˜¯å†…æ ¸ï¼Œç‹¬ç«‹äºæ™®é€šçš„åº”ç”¨ç¨‹åºï¼Œå¯ä»¥è®¿é—®å—ä¿æŠ¤çš„å†…å­˜ç©ºé—´ï¼Œä¹Ÿæœ‰è®¿é—®åº•å±‚ç¡¬ä»¶è®¾å¤‡çš„æ‰€æœ‰æƒé™ã€‚ä¸ºäº†ä¿è¯ç”¨æˆ·è¿›ç¨‹ä¸èƒ½ç›´æ¥æ“ä½œå†…æ ¸ï¼ˆkernelï¼‰ï¼Œä¿è¯å†…æ ¸çš„å®‰å…¨ï¼Œæ“å¿ƒç³»ç»Ÿå°†è™šæ‹Ÿç©ºé—´åˆ’åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†ä¸ºå†…æ ¸ç©ºé—´ï¼Œä¸€éƒ¨åˆ†ä¸ºç”¨æˆ·ç©ºé—´ã€‚
â€‹ é’ˆå¯¹linuxæ“ä½œç³»ç»Ÿè€Œè¨€ï¼Œå°†æœ€é«˜çš„1Gå­—èŠ‚ï¼ˆä»è™šæ‹Ÿåœ°å€0xC0000000åˆ°0xFFFFFFFFï¼‰ï¼Œä¾›å†…æ ¸ä½¿ç”¨ï¼Œç§°ä¸ºå†…æ ¸ç©ºé—´ã€‚
è€Œå°†è¾ƒä½çš„3Gå­—èŠ‚ï¼ˆä»è™šæ‹Ÿåœ°å€0x00000000åˆ°0xBFFFFFFFï¼‰ï¼Œä¾›å„ä¸ªè¿›ç¨‹ä½¿ç”¨ï¼Œç§°ä¸ºç”¨æˆ·ç©ºé—´ã€‚
è¿›ç¨‹åˆ‡æ¢ â€‹ ä¸ºäº†æ§åˆ¶è¿›ç¨‹çš„æ‰§è¡Œï¼Œå†…æ ¸å¿…é¡»æœ‰èƒ½åŠ›æŒ‚èµ·æ­£åœ¨CPUä¸Šè¿è¡Œçš„è¿›ç¨‹ï¼Œå¹¶æ¢å¤ä»¥å‰æŒ‚èµ·çš„æŸä¸ªè¿›ç¨‹çš„æ‰§è¡Œã€‚è¿™ç§è¡Œä¸ºè¢«ç§°ä¸ºè¿›ç¨‹åˆ‡æ¢ã€‚å› æ­¤å¯ä»¥è¯´ï¼Œä»»ä½•è¿›ç¨‹éƒ½æ˜¯åœ¨æ“ä½œç³»ç»Ÿå†…æ ¸çš„æ”¯æŒä¸‹è¿è¡Œçš„ï¼Œæ˜¯ä¸å†…æ ¸ç´§å¯†ç›¸å…³çš„ã€‚
ä»ä¸€ä¸ªè¿›ç¨‹çš„è¿è¡Œè½¬åˆ°å¦ä¸€ä¸ªè¿›ç¨‹ä¸Šè¿è¡Œï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­ç»è¿‡ä¸‹é¢è¿™äº›å˜åŒ–ï¼š
ä¿å­˜å¤„ç†æœºä¸Šä¸‹æ–‡ï¼ŒåŒ…æ‹¬ç¨‹åºè®¡æ•°å™¨å’Œå…¶ä»–å¯„å­˜å™¨ã€‚ æ›´æ–°PCBä¿¡æ¯ã€‚ æŠŠè¿›ç¨‹çš„PCBç§»å…¥ç›¸åº”çš„é˜Ÿåˆ—ï¼Œå¦‚å°±ç»ªã€åœ¨æŸäº‹ä»¶é˜»å¡ç­‰é˜Ÿåˆ—ã€‚ é€‰æ‹©å¦ä¸€ä¸ªè¿›ç¨‹æ‰§è¡Œï¼Œå¹¶æ›´æ–°å…¶PCBã€‚ æ›´æ–°å†…å­˜ç®¡ç†çš„æ•°æ®ç»“æ„ã€‚ æ¢å¤å¤„ç†æœºä¸Šä¸‹æ–‡ã€‚ æ€»è€Œè¨€ä¹‹å°±æ˜¯å¾ˆè€—èµ„æºï¼Œå…·ä½“çš„å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼šè¿›ç¨‹åˆ‡æ¢
è¿›ç¨‹çš„é˜»å¡ â€‹ æ­£åœ¨æ‰§è¡Œçš„è¿›ç¨‹ï¼Œç”±äºæœŸå¾…çš„æŸäº›äº‹ä»¶æœªå‘ç”Ÿï¼Œå¦‚è¯·æ±‚ç³»ç»Ÿèµ„æºå¤±è´¥ã€ç­‰å¾…æŸç§æ“ä½œçš„å®Œæˆã€æ–°æ•°æ®å°šæœªåˆ°è¾¾æˆ–æ— æ–°å·¥ä½œåšç­‰ï¼Œåˆ™ç”±ç³»ç»Ÿè‡ªåŠ¨æ‰§è¡Œé˜»å¡åŸè¯­(Block)ï¼Œä½¿è‡ªå·±ç”±è¿è¡ŒçŠ¶æ€å˜ä¸ºé˜»å¡çŠ¶æ€ã€‚å¯è§ï¼Œè¿›ç¨‹çš„é˜»å¡æ˜¯è¿›ç¨‹è‡ªèº«çš„ä¸€ç§ä¸»åŠ¨è¡Œä¸ºï¼Œä¹Ÿå› æ­¤åªæœ‰å¤„äºè¿è¡Œæ€çš„è¿›ç¨‹ï¼ˆè·å¾—CPUï¼‰ï¼Œæ‰å¯èƒ½å°†å…¶è½¬ä¸ºé˜»å¡çŠ¶æ€ã€‚å½“è¿›ç¨‹è¿›å…¥é˜»å¡çŠ¶æ€ï¼Œæ˜¯ä¸å ç”¨CPUèµ„æºçš„ã€‚
æ–‡ä»¶æè¿°ç¬¦fd â€‹ æ–‡ä»¶æè¿°ç¬¦ï¼ˆFile descriptorï¼‰æ˜¯è®¡ç®—æœºç§‘å­¦ä¸­çš„ä¸€ä¸ªæœ¯è¯­ï¼Œæ˜¯ä¸€ä¸ªç”¨äºè¡¨è¿°æŒ‡å‘æ–‡ä»¶çš„å¼•ç”¨çš„æŠ½è±¡åŒ–æ¦‚å¿µã€‚
â€‹ æ–‡ä»¶æè¿°ç¬¦åœ¨å½¢å¼ä¸Šæ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚å®é™…ä¸Šï¼Œå®ƒæ˜¯ä¸€ä¸ªç´¢å¼•å€¼ï¼ŒæŒ‡å‘å†…æ ¸ä¸ºæ¯ä¸€ä¸ªè¿›ç¨‹æ‰€ç»´æŠ¤çš„è¯¥è¿›ç¨‹æ‰“å¼€æ–‡ä»¶çš„è®°å½•è¡¨ã€‚å½“ç¨‹åºæ‰“å¼€ä¸€ä¸ªç°æœ‰æ–‡ä»¶æˆ–è€…åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶æ—¶ï¼Œå†…æ ¸å‘è¿›ç¨‹è¿”å›ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ã€‚åœ¨ç¨‹åºè®¾è®¡ä¸­ï¼Œä¸€äº›æ¶‰åŠåº•å±‚çš„ç¨‹åºç¼–å†™å¾€å¾€ä¼šå›´ç»•ç€æ–‡ä»¶æè¿°ç¬¦å±•å¼€ã€‚ä½†æ˜¯æ–‡ä»¶æè¿°ç¬¦è¿™ä¸€æ¦‚å¿µå¾€å¾€åªé€‚ç”¨äºUNIXã€Linuxè¿™æ ·çš„æ“ä½œç³»ç»Ÿã€‚
ç¼“å­˜ I/O â€‹ ç¼“å­˜ I/O åˆè¢«ç§°ä½œæ ‡å‡† I/Oï¼Œå¤§å¤šæ•°æ–‡ä»¶ç³»ç»Ÿçš„é»˜è®¤ I/O æ“ä½œéƒ½æ˜¯ç¼“å­˜ I/Oã€‚åœ¨ Linux çš„ç¼“å­˜ I/O æœºåˆ¶ä¸­ï¼Œæ“ä½œç³»ç»Ÿä¼šå°† I/O çš„æ•°æ®ç¼“å­˜åœ¨æ–‡ä»¶ç³»ç»Ÿçš„**é¡µç¼“å­˜ï¼ˆ page cache ï¼‰**ä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ•°æ®ä¼šå…ˆè¢«æ‹·è´åˆ°æ“ä½œç³»ç»Ÿå†…æ ¸çš„ç¼“å†²åŒºä¸­ï¼Œç„¶åæ‰ä¼šä»æ“ä½œç³»ç»Ÿå†…æ ¸çš„ç¼“å†²åŒºæ‹·è´åˆ°åº”ç”¨ç¨‹åºçš„åœ°å€ç©ºé—´ã€‚
ç¼“å­˜ I/O çš„ç¼ºç‚¹ï¼š æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­éœ€è¦åœ¨åº”ç”¨ç¨‹åºåœ°å€ç©ºé—´å’Œå†…æ ¸è¿›è¡Œå¤šæ¬¡æ•°æ®æ‹·è´æ“ä½œï¼Œè¿™äº›æ•°æ®æ‹·è´æ“ä½œæ‰€å¸¦æ¥çš„ CPU ä»¥åŠå†…å­˜å¼€é”€æ˜¯éå¸¸å¤§çš„ã€‚
IOæ‹·è´ DMA è´Ÿè´£å†…æ ¸é—´çš„ IO ä¼ è¾“ï¼ŒCPU è´Ÿè´£å†…æ ¸å’Œåº”ç”¨é—´çš„ IO ä¼ è¾“ã€‚
æ›´å¤šè¯¦æƒ…è§ï¼šä¸€æ–‡å½»åº•æ­ç§˜æ“ä½œç³»ç»Ÿä¹‹ã€Œé›¶æ‹·è´ã€ï¼ - è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘ (tencent.com)
CPU COPY â€‹ é€šè¿‡è®¡ç®—æœºçš„ç»„æˆåŸç†æˆ‘ä»¬çŸ¥é“, å†…å­˜çš„è¯»å†™æ“ä½œæ˜¯éœ€è¦ CPU çš„åè°ƒæ•°æ®æ€»çº¿,åœ°å€æ€»çº¿å’Œæ§åˆ¶æ€»çº¿æ¥å®Œæˆçš„å› æ­¤åœ¨"æ‹·è´"å‘ç”Ÿçš„æ—¶å€™,å¾€å¾€éœ€è¦ CPU æš‚åœç°æœ‰çš„å¤„ç†é€»è¾‘,æ¥ååŠ©å†…å­˜çš„è¯»å†™ï¼Œè¿™ç§æˆ‘ä»¬ç§°ä¸º CPU COPYã€‚CPU COPY ä¸ä½†å ç”¨äº† CPU èµ„æº,è¿˜å ç”¨äº†æ€»çº¿çš„å¸¦å®½ã€‚
DMA COPY â€‹ DMA(DIRECT MEMORY ACCESS) æ˜¯ç°ä»£è®¡ç®—æœºçš„é‡è¦åŠŸèƒ½ï¼Œå®ƒæœ‰ä¸€ä¸ªé‡è¦ç‰¹ç‚¹ï¼šå½“éœ€è¦ä¸å¤–è®¾è¿›è¡Œæ•°æ®äº¤æ¢æ—¶, CPU åªéœ€è¦åˆå§‹åŒ–è¿™ä¸ªåŠ¨ä½œä¾¿å¯ä»¥ç»§ç»­æ‰§è¡Œå…¶ä»–æŒ‡ä»¤,å‰©ä¸‹çš„æ•°æ®ä¼ è¾“çš„åŠ¨ä½œå®Œå…¨ç”±DMAæ¥å®Œæˆå¯ä»¥çœ‹åˆ° DMA COPY æ˜¯å¯ä»¥é¿å…å¤§é‡çš„ CPU ä¸­æ–­çš„
...</p></div><footer class=entry-footer>ğŸ“…æœ€åæ›´æ–°:&nbsp;0001-01-01&nbsp|&nbspâ²ï¸æ—¶é•¿: 21 min&nbsp|&nbspğŸ“–å­—æ•°: 10038 words&nbsp;|&nbsp;Luenci</footer><a class=entry-link aria-label="post link to Linux ç½‘ç»œæ¨¡å‹" href=https://luenci.com/en/posts/linux-%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>é¸­å­ç±»å‹ä»‹ç»</h2></header><div class=entry-content><p>é¸­å­ç±»å‹ å®šä¹‰ é¸­å­ç±»å‹ï¼ˆè‹±è¯­ï¼šduck typingï¼‰åœ¨ç¨‹åºè®¾è®¡ä¸­æ˜¯åŠ¨æ€ç±»å‹çš„ä¸€ç§é£æ ¼ã€‚åœ¨è¿™ç§é£æ ¼ä¸­ï¼Œä¸€ä¸ªå¯¹è±¡æœ‰æ•ˆçš„è¯­ä¹‰ï¼Œä¸æ˜¯ç”±ç»§æ‰¿è‡ªç‰¹å®šçš„ç±»æˆ–å®ç°ç‰¹å®šçš„æ¥å£ï¼Œè€Œæ˜¯ç”±"å½“å‰æ–¹æ³•å’Œå±æ€§çš„é›†åˆâ€œå†³å®šã€‚è¿™ä¸ªæ¦‚å¿µçš„åå­—æ¥æºäºç”±è©¹å§†æ–¯Â·æƒ ç‰¹ç§‘å§†Â·è±åˆ©æå‡ºçš„é¸­å­æµ‹è¯•ï¼ˆè§ä¸‹é¢çš„â€œå†å²â€ç« èŠ‚ï¼‰ï¼Œâ€œé¸­å­æµ‹è¯•â€å¯ä»¥è¿™æ ·è¡¨è¿°ï¼š
â€‹ â€œå½“çœ‹åˆ°ä¸€åªé¸Ÿèµ°èµ·æ¥åƒé¸­å­ã€æ¸¸æ³³èµ·æ¥åƒé¸­å­ã€å«èµ·æ¥ä¹Ÿåƒé¸­å­ï¼Œé‚£ä¹ˆè¿™åªé¸Ÿå°±å¯ä»¥è¢«ç§°ä¸ºé¸­å­ã€‚â€
åœ¨é¸­å­ç±»å‹ä¸­ï¼Œå…³æ³¨ç‚¹åœ¨äºå¯¹è±¡çš„è¡Œä¸ºï¼Œèƒ½ä½œä»€ä¹ˆï¼›è€Œä¸æ˜¯å…³æ³¨å¯¹è±¡æ‰€å±çš„ç±»å‹ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸ä½¿ç”¨é¸­å­ç±»å‹çš„è¯­è¨€ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ªç±»å‹ä¸º"é¸­å­"çš„å¯¹è±¡ï¼Œå¹¶è°ƒç”¨å®ƒçš„"èµ°"å’Œ"å«"æ–¹æ³•ã€‚åœ¨ä½¿ç”¨é¸­å­ç±»å‹çš„è¯­è¨€ä¸­ï¼Œè¿™æ ·çš„ä¸€ä¸ªå‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªä»»æ„ç±»å‹çš„å¯¹è±¡ï¼Œå¹¶è°ƒç”¨å®ƒçš„"èµ°"å’Œ"å«"æ–¹æ³•ã€‚å¦‚æœè¿™äº›éœ€è¦è¢«è°ƒç”¨çš„æ–¹æ³•ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå°†å¼•å‘ä¸€ä¸ªè¿è¡Œæ—¶é”™è¯¯ã€‚ä»»ä½•æ‹¥æœ‰è¿™æ ·çš„æ­£ç¡®çš„"èµ°"å’Œ"å«"æ–¹æ³•çš„å¯¹è±¡éƒ½å¯è¢«å‡½æ•°æ¥å—çš„è¿™ç§è¡Œä¸ºå¼•å‡ºäº†ä»¥ä¸Šè¡¨è¿°ï¼Œè¿™ç§å†³å®šç±»å‹çš„æ–¹å¼å› æ­¤å¾—åã€‚ é¸­å­ç±»å‹é€šå¸¸å¾—ç›Šäº"ä¸"æµ‹è¯•æ–¹æ³•å’Œå‡½æ•°ä¸­å‚æ•°çš„ç±»å‹ï¼Œè€Œæ˜¯ä¾èµ–æ–‡æ¡£ã€æ¸…æ™°çš„ä»£ç å’Œæµ‹è¯•æ¥ç¡®ä¿æ­£ç¡®ä½¿ç”¨ã€‚ åœ¨å¸¸è§„ç±»å‹ä¸­ï¼Œæˆ‘ä»¬èƒ½å¦åœ¨ä¸€ä¸ªç‰¹å®šåœºæ™¯ä¸­ä½¿ç”¨æŸä¸ªå¯¹è±¡å–å†³äºè¿™ä¸ªå¯¹è±¡çš„ç±»å‹ï¼Œè€Œåœ¨é¸­å­ç±»å‹ä¸­ï¼Œåˆ™å–å†³äºè¿™ä¸ªå¯¹è±¡æ˜¯å¦å…·æœ‰æŸç§å±æ€§æˆ–è€…æ–¹æ³•â€”â€”å³åªè¦å…·å¤‡ç‰¹å®šçš„å±æ€§æˆ–æ–¹æ³•ï¼Œèƒ½é€šè¿‡é¸­å­æµ‹è¯•ï¼Œå°±å¯ä»¥ä½¿ç”¨ã€‚ å¤šæ€ ä¸ºä»€ä¹ˆä¼šåœ¨é¸­å­ç±»å‹ä¸­å»ä»‹ç»å¤šæ€è¿™ä¸ªä¸œè¥¿ï¼Œä¼—æ‰€å‘¨çŸ¥ï¼Œé¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸‰å¤§ç‰¹ç‚¹ ç»§æ‰¿ã€å°è£…ã€å¤šæ€
...</p></div><footer class=entry-footer>ğŸ“…æœ€åæ›´æ–°:&nbsp;0001-01-01&nbsp|&nbspâ²ï¸æ—¶é•¿: 6 min&nbsp|&nbspğŸ“–å­—æ•°: 2634 words&nbsp;|&nbsp;Luenci</footer><a class=entry-link aria-label="post link to é¸­å­ç±»å‹ä»‹ç»" href=https://luenci.com/en/posts/%E9%B8%AD%E5%AD%90%E7%B1%BB%E5%9E%8B/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>RESTfulé£æ ¼</h2></header><div class=entry-content><p>RESTfulè®¾è®¡æ–¹æ³• åŸæ–‡å‚è€ƒè‡ªå“”å“©å“”å“©: https://www.bilibili.com/video/BV1k5411p7Kp
1. åŸŸå åº”è¯¥å°½é‡å°†APIéƒ¨ç½²åœ¨ä¸“ç”¨åŸŸåä¹‹ä¸‹ã€‚
1 https://api.example.com å¦‚æœç¡®å®šAPIå¾ˆç®€å•ï¼Œä¸ä¼šæœ‰è¿›ä¸€æ­¥æ‰©å±•ï¼Œå¯ä»¥è€ƒè™‘æ”¾åœ¨ä¸»åŸŸåä¸‹ã€‚
1 https://example.org/api/ 2. ç‰ˆæœ¬ï¼ˆVersioningï¼‰ åº”è¯¥å°†APIçš„ç‰ˆæœ¬å·æ”¾å…¥URLã€‚
...</p></div><footer class=entry-footer>ğŸ“…æœ€åæ›´æ–°:&nbsp;0001-01-01&nbsp|&nbspâ²ï¸æ—¶é•¿: 5 min&nbsp|&nbspğŸ“–å­—æ•°: 2182 words&nbsp;|&nbsp;Luenci</footer><a class=entry-link aria-label="post link to RESTfulé£æ ¼" href=https://luenci.com/en/posts/restful%E9%A3%8E%E6%A0%BC%E4%BB%8B%E7%BB%8D/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>åŒæºå’Œè·¨åŸŸ</h2></header><div class=entry-content><p>åŸæ–‡:åŒæºç­–ç•¥ã€è·¨åŸŸè§£å†³æ–¹æ¡ˆ
ä¸€ã€åŒæºç­–ç•¥ 1ã€å…ˆæ¥è¯´è¯´ä»€ä¹ˆæ˜¯æº â€¢ æºï¼ˆoriginï¼‰å°±æ˜¯åè®®ã€åŸŸåå’Œç«¯å£å·ã€‚ ä»¥ä¸Šurlä¸­çš„æºå°±æ˜¯ï¼šhttp://www.company.com:80 è‹¥åœ°å€é‡Œé¢çš„åè®®ã€åŸŸåå’Œç«¯å£å·å‡ç›¸åŒåˆ™å±äºåŒæºã€‚ ä»¥ä¸‹æ˜¯ç›¸å¯¹äº http://www.a.com/test/index.html çš„åŒæºæ£€æµ‹
...</p></div><footer class=entry-footer>ğŸ“…æœ€åæ›´æ–°:&nbsp;0001-01-01&nbsp|&nbspâ²ï¸æ—¶é•¿: 3 min&nbsp|&nbspğŸ“–å­—æ•°: 1051 words&nbsp;|&nbsp;Luenci</footer><a class=entry-link aria-label="post link to åŒæºå’Œè·¨åŸŸ" href=https://luenci.com/en/posts/%E5%85%B3%E4%BA%8E%E8%B7%A8%E5%9F%9F%E5%92%8C%E5%90%8C%E6%BA%90/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Djangoä¿¡å·é‡åˆæ¢</h2></header><div class=entry-content><p>djangoçš„ä¿¡å·é‡ åŸæ–‡é“¾æ¥:https://juejin.cn/post/6844903674049724424
ä¸€ã€å…³äºdjangoä¿¡å·é‡ DjangoåŒ…å«ä¸€ä¸ª"ä¿¡å·è°ƒåº¦ç¨‹åº"ï¼Œå®ƒæœ‰åŠ©äºåœ¨æ¡†æ¶ä¸­çš„å…¶ä»–ä½ç½®å‘ç”Ÿæ“ä½œæ—¶é€šçŸ¥åˆ†ç¦»çš„åº”ç”¨ç¨‹åºã€‚ç®€è€Œè¨€ä¹‹ï¼Œä¿¡å·å…è®¸æŸäº›å‘é€è€…é€šçŸ¥ä¸€ç»„æ¥æ”¶å™¨å·²ç»å‘ç”Ÿäº†æŸäº›åŠ¨ä½œã€‚å½“è®¸å¤šä»£ç å¯èƒ½å¯¹åŒä¸€äº‹ä»¶æ„Ÿå…´è¶£æ—¶ï¼Œå®ƒä»¬ç‰¹åˆ«æœ‰ç”¨.
äºŒã€djangoä¸­å†…ç½®çš„ä¿¡å·é‡ 1ã€Modelçš„ä¿¡å·é‡
pre_init # djangoçš„modalæ‰§è¡Œå…¶æ„é€ æ–¹æ³•å‰ï¼Œè‡ªåŠ¨è§¦å‘
post_init # djangoçš„modalæ‰§è¡Œå…¶æ„é€ æ–¹æ³•åï¼Œè‡ªåŠ¨è§¦å‘
pre_save # djangoçš„modalå¯¹è±¡ä¿å­˜å‰ï¼Œè‡ªåŠ¨è§¦å‘
post_save # djangoçš„modalå¯¹è±¡ä¿å­˜åï¼Œè‡ªåŠ¨è§¦å‘
pre_delete # djangoçš„modalå¯¹è±¡åˆ é™¤å‰ï¼Œè‡ªåŠ¨è§¦å‘
post_delete # djangoçš„modalå¯¹è±¡åˆ é™¤åï¼Œè‡ªåŠ¨è§¦å‘
m2m_changed # djangoçš„modalä¸­ä½¿ç”¨m2må­—æ®µæ“ä½œç¬¬ä¸‰å¼ è¡¨ï¼ˆadd,remove,clearï¼‰å‰åï¼Œè‡ªåŠ¨è§¦å‘
class_prepared # ç¨‹åºå¯åŠ¨æ—¶ï¼Œæ£€æµ‹å·²æ³¨å†Œçš„appä¸­modalç±»ï¼Œå¯¹äºæ¯ä¸€ä¸ªç±»ï¼Œè‡ªåŠ¨è§¦å‘
1 2 3 4 5 6 7 8 from django.db.models.signals import class_prepared from django.db.models.signals import pre_init from django.db.models.signals import post_init from django.db.models.signals import pre_save from django.db.models.signals import post_save from django.db.models.signals import pre_delete from django.db.models.signals import post_delete from django.db.models.signals import m2m_changed 2ã€Managementçš„ä¿¡å·é‡
pre_migrate # æ‰§è¡Œmigrateå‘½ä»¤å‰ï¼Œè‡ªåŠ¨è§¦å‘
post_migrate # æ‰§è¡Œmigrateå‘½ä»¤åï¼Œè‡ªåŠ¨è§¦å‘
1 2 from django.db.models.signals import pre_migrate from django.db.models.signals import post_migrate 3ã€Request/Responseçš„ä¿¡å·é‡
request_started # è¯·æ±‚åˆ°æ¥å‰ï¼Œè‡ªåŠ¨è§¦å‘
request_finished # è¯·æ±‚ç»“æŸåï¼Œè‡ªåŠ¨è§¦å‘
got_request_exception # è¯·æ±‚å¼‚å¸¸åï¼Œè‡ªåŠ¨è§¦å‘
1 2 3 from django.core.signals import request_finished from django.core.signals import request_started from django.core.signals import got_request_exception 4ã€Testçš„ä¿¡å·é‡
setting_changed # ä½¿ç”¨testæµ‹è¯•ä¿®æ”¹é…ç½®æ–‡ä»¶æ—¶ï¼Œè‡ªåŠ¨è§¦å‘
template_rendered # ä½¿ç”¨testæµ‹è¯•æ¸²æŸ“æ¨¡æ¿æ—¶ï¼Œè‡ªåŠ¨è§¦å‘
1 2 from django.test.signals import setting_changed from django.test.signals import template_rendered 5ã€Databaseçš„ä¿¡å·é‡
connection_created # åˆ›å»ºæ•°æ®åº“è¿æ¥æ—¶ï¼Œè‡ªåŠ¨è§¦å‘
1 from django.db.backends.signals import connection_created ...</p></div><footer class=entry-footer>ğŸ“…æœ€åæ›´æ–°:&nbsp;0001-01-01&nbsp|&nbspâ²ï¸æ—¶é•¿: 4 min&nbsp|&nbspğŸ“–å­—æ•°: 1767 words&nbsp;|&nbsp;Luenci</footer><a class=entry-link aria-label="post link to Djangoä¿¡å·é‡åˆæ¢" href=https://luenci.com/en/posts/django%E7%9A%84%E4%BF%A1%E5%8F%B7%E9%87%8F/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>è¡Œä¸ºå‹æ¨¡å¼</h2></header><div class=entry-content><p>è¡Œä¸ºå‹æ¨¡å¼ è¡Œä¸ºå‹æ¨¡å¼ï¼Œé¡¾åæ€ä¹‰ï¼Œå®ƒä¸»è¦å…³æ³¨çš„æ˜¯å¯¹è±¡çš„è´£ä»»ã€‚
å®ƒä»¬å…³æ³¨å¯¹è±¡ä¹‹é—´çš„äº¤äº’ä»¥åŠå¯¹è±¡çš„å“åº”æ€§ å¯¹è±¡åº”è¯¥èƒ½å¤Ÿäº¤äº’ï¼ŒåŒæ—¶ä»ç„¶ä¿æŒæ¾æ•£è€¦åˆ è§‚å¯Ÿè€…æ¨¡å¼ åœ¨è§‚å¯Ÿè€…è®¾è®¡æ¨¡å¼ä¸­ï¼Œå¯¹è±¡ï¼ˆä¸»é¢˜ï¼‰ç»´æŠ¤äº†ä¸€ä¸ªä¾èµ–ï¼ˆè§‚å¯Ÿè€…ï¼‰åˆ—è¡¨ï¼Œä»¥ä¾¿ä¸»é¢˜å¯ä»¥ä½¿ç”¨è§‚å¯Ÿè€…å®šä¹‰çš„ä»»ä½•æ–¹æ³•é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…å®ƒæ‰€å‘ç”Ÿçš„å˜åŒ–ã€‚
å®ƒå®šä¹‰äº†å¯¹è±¡ä¹‹é—´çš„ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œä»è€Œä½¿å¾—ä¸€ä¸ªå¯¹è±¡ä¸­çš„ä»»ä½•æ›´æ”¹éƒ½å°†è‡ªåŠ¨é€šçŸ¥ç»™å…¶ä»–å¯¹è±¡ å®ƒå°è£…äº†ä¸»é¢˜çš„æ ¸å¿ƒç»„ä»¶ UMLå›¾ ä¸»é¢˜(Subject):ç±»Subjectéœ€è¦äº†è§£Observeã€‚Subjectç±»å…·æœ‰è®¸å¤šæ–¹æ³•ï¼Œè¯¸å¦‚register()å’Œderegister()ç­‰ï¼ŒObserverå¯ä»¥é€šè¿‡è¿™äº›æ–¹æ³•æ³¨å†Œåˆ°Subjectç±»ä¸­ã€‚å› æ­¤ï¼Œä¸€ä¸ªSubjectå¯ä»¥å¤„ç†å¤šä¸ªObserveã€‚ è§‚å¯Ÿè€…(Observe)ï¼šå®ƒä¸ºå…³æ³¨ä¸»é¢˜çš„å¯¹è±¡å®šä¹‰äº†ä¸€ä¸ªæ¥å£ã€‚å®ƒå®šä¹‰äº†Observeéœ€è¦å®ç°çš„å„ä¸ªæ–¹æ³•ï¼Œä»¥ä¾¿åœ¨ä¸»é¢˜å‘ç”Ÿå˜åŒ–æ—¶èƒ½å¤Ÿè·å¾—ç›¸åº”çš„é€šçŸ¥ã€‚ å…·ä½“è§‚å¯Ÿè€…(ConcreteObserver):å®ƒç”¨æ¥ä¿å­˜åº”è¯¥ä¸Subjectçš„çŠ¶æ€ä¿æŒä¸€è‡´çš„çŠ¶æ€ã€‚å®ƒå®ç°äº†Observeæ¥å£ä»¥ä¿æŒå…¶çŠ¶æ€ä¸ä¸»é¢˜ä¸­çš„å˜åŒ–ç›¸ä¸€è‡´ã€‚ ä»£ç æ¡ˆä¾‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 #!/usr/bin/env python # -*- coding: utf-8 -*- class Subject(object): def __init__(self): self.__observer = [] def register(self, observer): self.__observer.append(observer) def notifyAll(self, *args, **kwargs): for observer in self.__observer: observer.notify(self, *args, **kwargs) class Observer1(object): def __init__(self, subject): subject.register(self) def notify(self, subject, *args): print(f"{type(self).__name__}:: Got, {args} from {subject}") class Observer2(object): def __init__(self, subject): subject.register(self) def notify(self, subject, *args): print(f"{type(self).__name__}:: Got, {args} from {subject}") if __name__ == '__main__': subject = Subject() observer1 = Observer1(subject) observer2 = Observer2(subject) subject.notifyAll("notify~~~") è§‚å¯Ÿè€…æ¨¡å¼çš„ä¼˜ç‚¹å’Œç¼ºç‚¹ ä¼˜ç‚¹ï¼š
å®ƒä½¿å¾—å½¼æ­¤äº¤äº’çš„å¯¹è±¡ä¹‹é—´ä¿æŒé€è€¦åˆ å®ƒä½¿å¾—æˆ‘ä»¬å¯ä»¥åœ¨æ— éœ€å¯¹ä¸»é¢˜æˆ–è§‚å¯Ÿè€…è¿›è¡Œä»»ä½•ä¿®æ”¹çš„æƒ…å†µä¸‹é«˜æ•ˆåœ°å‘é€æ•°æ®åˆ°å…¶ä»–å¯¹è±¡ å¯ä»¥éšæ—¶æ·»åŠ /åˆ é™¤è§‚å¯Ÿè€… ç¼ºç‚¹ï¼š
è§‚å¯Ÿè€…æ¥å£å¿…é¡»ç”±å…·ä½“è§‚å¯Ÿè€…å®ç°ï¼Œè¿™æ¶‰åŠç»§æ‰¿ã€‚æ— æ³•è¿›è¡Œç»„åˆï¼Œå› ä¸ºè§‚å¯Ÿè€…æ¥å£å¯ä»¥å®ä¾‹åŒ– å¦‚æœå®ç°ä¸å½“çš„è¯ï¼Œè§‚å¯Ÿè€…å¯èƒ½ä¼šå¢åŠ å¤æ‚æ€§ï¼Œå¹¶å¯¼è‡´æ€§èƒ½é™ä½ åœ¨è½¯ä»¶åº”ç”¨ç¨‹åºä¸­ï¼Œé€šçŸ¥æœ‰æ—¶å¯èƒ½æ˜¯ä¸å¯é çš„ï¼Œå¹¶å¯¼è‡´ç«äº‰æ¡ä»¶æˆ–ä¸ä¸€è‡´æ€§ ...</p></div><footer class=entry-footer>ğŸ“…æœ€åæ›´æ–°:&nbsp;0001-01-01&nbsp|&nbspâ²ï¸æ—¶é•¿: 11 min&nbsp|&nbspğŸ“–å­—æ•°: 5423 words&nbsp;|&nbsp;Luenci</footer><a class=entry-link aria-label="post link to è¡Œä¸ºå‹æ¨¡å¼" href=https://luenci.com/en/posts/%E8%A1%8C%E4%B8%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>ç»“æ„å‹æ¨¡å¼</h2></header><div class=entry-content><p>ç»“æ„å‹æ¨¡å¼ ç»“æ„å‹æ¨¡å¼ç”¨äºè®¾è®¡å¯¹è±¡å’Œç±»çš„ç»“æ„ï¼Œä»è€Œä½¿å®ƒä»¬ä¹‹é—´å¯ä»¥äº’ç›¸åä½œä»¥è·å–æ›´å¤§çš„ç»“æ„ã€‚
ç»“æ„å‹æ¨¡å¼æè¿°å¦‚ä½•å°†å¯¹è±¡å’Œç±»ç»„åˆæˆæ›´å¤§çš„ç»“æ„ ç»“æ„å‹æ¨¡å¼æ˜¯ä¸€ç§èƒ½å¤Ÿç®€åŒ–è®¾è®¡å·¥ä½œçš„æ¨¡å¼ï¼Œå› ä¸ºå®ƒèƒ½å¤Ÿæ‰¾å‡ºæ›´ç®€å•çš„æ–¹æ³•æ¥è®¤è¯†æˆ–è¡¨ç¤ºå®ä½“ä¹‹é—´çš„å…³ç³»ã€‚åœ¨é¢å‘å¯¹è±¡ä¸–ç•Œä¸­ï¼Œå®ä½“æŒ‡çš„æ˜¯å¯¹è±¡æˆ–ç±» ç±»æ¨¡å¼å¯ä»¥é€šè¿‡ç»§æ‰¿æ¥æè¿°å¯¹è±¡ï¼Œä»è€Œæä¾›æ›´æœ‰ç”¨çš„ç¨‹åºæ¥å£ï¼Œè€Œå¯¹è±¡æ¨¡å¼åˆ™æè¿°äº†å¦‚ä½•å°†å¯¹è±¡è”ç³»èµ·æ¥ä»è€Œç»„åˆæˆæ›´å¤§çš„å¯¹è±¡ã€‚ç»“æ„å‹æ¨¡å¼æ˜¯ç±»å’Œå¯¹è±¡æ¨¡å¼çš„ç»¼åˆä½“ é—¨é¢è®¾è®¡æ¨¡å¼ å®ƒä¸ºå­ç³»ç»Ÿçš„ä¸€ç»„æ¥å£æä¾›ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£ï¼Œå¹¶å®šä¹‰ä¸€ä¸ªé«˜çº§æ¥å£æ¥å¸®åŠ©å®¢æˆ·ç«¯é€šè¿‡æ›´åŠ ç®€å•çš„æ–¹å¼ä½¿ç”¨å­ç³»ç»Ÿ é—¨é¢æ¨¡å¼è§£å†³çš„é—®é¢˜æ˜¯ï¼Œå¦‚ä½•ç”¨çš„å•ä¸ªæ¥å£å¯¹è±¡æ¥è¡¨ç¤ºå¤æ‚çš„å­ç³»ç»Ÿã€‚å®é™…ä¸Šå®ƒå¹¶ä¸æ˜¯å°è£…å­ç³»ç»Ÿï¼Œè€Œæ˜¯å¯¹åº•å±‚å­ç³»ç»Ÿè¿›è¡Œç»„åˆ å®ƒä¿ƒè¿›äº†å®ç°ä¸å¤šä¸ªå®¢æˆ·ç«¯çš„è§£è€¦ UMLå›¾ ä»£ç å®ç° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 #!/usr/bin/env python # -*- coding: utf-8 -*- class EventManager(object): def __init__(self): print("Event Manager:: Let me talk to the folks\\n") def arrange(self): self.hotelier = Hotelier() self.hotelier.bookHotel() self.florist = Florist() self.florist.setFlowerRequirements() self.caterer = Caterer() self.caterer.setCuisine() self.musiccian = Musician() self.musiccian.setMusicType() class Hotelier(object): def __init__(self): print("Arranging the hotel for Marriage ?") def __isAvailable(self): print("Is the Hotel free for the event on given day?") return True def bookHotel(self): if self.__isAvailable(): print("Register the Booking \\n\\n") class Florist(object): def __init__(self): print("Flower Decorations for the Event ? --") def setFlowerRequirements(self): print("Carnations, Rose and Lilies would be used for Decorations\\n\\n") class Caterer(object): def __init__(self): print("Food Arrangements for the Event --") def setCuisine(self): print("Chinese & Continental Cuisine to be served \\n\\n") class Musician(object): def __init__(self): print("Musical Arrangements for the Marriage --") def setMusicType(self): print() class You(object): def __init__(self): print("you::whoa Marriage Arrangements !") def askEventManager(self): print("you:: Let is Contact the Event Manager\\n\\n") em = EventManager() em.arrange() def __del__(self): print("All preparations done!") if __name__ == '__main__': you = You() you.askEventManager() outï¼š you::whoa Marriage Arrangements ! you:: Let is Contact the Event Manager Event Manager:: Let me talk to the folks Arranging the hotel for Marriage ? Is the Hotel free for the event on given day? Register the Booking Flower Decorations for the Event ? -- Carnations, Rose and Lilies would be used for Decorations Food Arrangements for the Event -- Chinese & Continental Cuisine to be served Musical Arrangements for the Marriage -- All preparations done! å°ç»“ EventManagerç±»æ˜¯ç®€åŒ–æ¥å£çš„é—¨é¢ EventManager é€šè¿‡ç»„åˆåˆ›å»ºå­ç³»ç»Ÿå¯¹è±¡ï¼Œå¦‚Hotelierï¼ŒFloristç­‰ã€‚ ...</p></div><footer class=entry-footer>ğŸ“…æœ€åæ›´æ–°:&nbsp;0001-01-01&nbsp|&nbspâ²ï¸æ—¶é•¿: 7 min&nbsp|&nbspğŸ“–å­—æ•°: 3087 words&nbsp;|&nbsp;Luenci</footer><a class=entry-link aria-label="post link to ç»“æ„å‹æ¨¡å¼" href=https://luenci.com/en/posts/%E7%BB%93%E6%9E%84%E5%9E%8B%E6%A8%A1%E5%BC%8F/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>åˆ›å»ºå‹æ¨¡å¼</h2></header><div class=entry-content><p>é¢„å¤‡çŸ¥è¯† @abstractmethodï¼šæŠ½è±¡æ–¹æ³•ï¼Œå«abstractmethodæ–¹æ³•çš„ç±»ä¸èƒ½å®ä¾‹åŒ–ï¼Œç»§æ‰¿äº†å«abstractmethodæ–¹æ³•çš„å­ç±»å¿…é¡»å¤å†™æ‰€æœ‰abstractmethodè£…é¥°çš„æ–¹æ³•ï¼Œæœªè¢«è£…é¥°çš„å¯ä»¥ä¸é‡å†™
@ propertyï¼šæ–¹æ³•ä¼ªè£…å±æ€§ï¼Œæ–¹æ³•è¿”å›å€¼åŠå±æ€§å€¼ï¼Œè¢«è£…é¥°æ–¹æ³•ä¸èƒ½æœ‰å‚æ•°ï¼Œå¿…é¡»å®ä¾‹åŒ–åè°ƒç”¨ï¼Œç±»ä¸èƒ½è°ƒç”¨
@ classmethodï¼šç±»æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡å®ä¾‹å¯¹è±¡å’Œç±»å¯¹è±¡è°ƒç”¨ï¼Œè¢«è¯¥å‡½æ•°ä¿®é¥°çš„æ–¹æ³•ç¬¬ä¸€ä¸ªå‚æ•°ä»£è¡¨ç±»æœ¬èº«å¸¸ç”¨clsï¼Œè¢«ä¿®é¥°å‡½æ•°å†…å¯è°ƒç”¨ç±»å±æ€§ï¼Œä¸èƒ½è°ƒç”¨å®ä¾‹å±æ€§
@staticmethodï¼šé™æ€æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡å®ä¾‹å¯¹è±¡å’Œç±»å¯¹è±¡è°ƒç”¨ï¼Œè¢«è£…é¥°å‡½æ•°å¯æ— å‚æ•°ï¼Œè¢«è£…é¥°å‡½æ•°å†…éƒ¨é€šè¿‡ç±»å.å±æ€§å¼•ç”¨ç±»å±æ€§æˆ–ç±»æ–¹æ³•ï¼Œä¸èƒ½å¼•ç”¨å®ä¾‹å±æ€§
åˆ›å»ºå‹æ¨¡å¼ åˆ›å»ºå‹æ¨¡å¼çš„å·¥ä½œåŸç†æ˜¯åŸºäºå¯¹è±¡çš„åˆ›å»ºæœºåˆ¶çš„ã€‚ç”±äºè¿™äº›æ¨¡å¼éš”ç¦»äº†å¯¹è±¡çš„åˆ›å»ºç»†èŠ‚ã€‚æ‰€ä»¥ä½¿å¾—ä»£ç èƒ½å¤Ÿä¸è¦åˆ›å»ºçš„å¯¹è±¡çš„ç±»å‹äº’ç›¸ç‹¬ç«‹ã€‚
å®ƒä»¬çš„è¿è¡Œæœºåˆ¶åŸºäºå¯¹è±¡çš„åˆ›å»ºæ–¹å¼ å®ƒä»¬å°†å¯¹è±¡åˆ›å»ºçš„ç»†èŠ‚éš”ç¦»å¼€æ¥ ä»£ç ä¸æ‰€åˆ›å»ºçš„å¯¹è±¡çš„ç±»å‹æ— å…³ å•ä¾‹æ¨¡å¼ å•ä¾‹æ¨¡å¼æä¾›äº†è¿™æ ·ä¸€ç§æœºåˆ¶ï¼Œå³ç¡®ä¿ç±»æœ‰ä¸”åªæœ‰ä¸€ä¸ªç‰¹å®šç±»å‹çš„å¯¹è±¡ï¼Œå¹¶æä¾›å…¨å±€è®¿é—®ç‚¹
UMLå›¾ ä»£ç å®ç° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 In [1]: class Singleton(object): """ å•ä¾‹æ¨¡å¼ """ ...: def __new__(cls): ...: if not hasattr(cls, "instance"): ...: cls.instance = super(Singleton, cls).__new__(cls) ...: return cls.instance ...: In [2]: s = Singleton() In [3]: s Out[3]: &lt;__main__.Singleton at 0x7fc32793ed90> In [4]: s2 = Singleton() In [5]: s2 Out[5]: &lt;__main__.Singleton at 0x7fc32793ed90> In [21]: class Singletons(object): """ æ‡’æ±‰å¼åŠ è½½ """ ...: __instance = None ...: def __init__(self): ...: if not Singletons.__instance: ...: print("__init__ method called..") ...: else: ...: print("Instance alreadly created:",self.getInstance()) ...: @classmethod ...: def getInstance(cls): ...: if not cls.__instance: ...: cls.__instance = Singletons() ...: return cls.__instance ...: In [22]: a = Singletons() __init__ method called.. In [23]: a1 = Singletons() __init__ method called.. In [24]: a2 = Singletons() __init__ method called.. In [25]: a.getInstance() __init__ method called.. Out[25]: &lt;__main__.Singletons at 0x7fc327b020d0> In [26]: a Out[26]: &lt;__main__.Singletons at 0x7fc327e48ca0> In [27]: a1 Out[27]: &lt;__main__.Singletons at 0x7fc32763a250> In [1]: class MyMetaClass(type): """ å…ƒç±»å®ç°å•ä¾‹æ¨¡å¼ """ ...: _instances = {} ...: def __call__(cls,*args,**kwargs): ...: print("**** Here`s my MetaClass ****") ...: if cls not in cls._instances: ...: cls._instances[cls] = super(MyMetaClass,cls).__call__(*args,**kwargs) ...: return cls._instances[cls] In [2]: class test(metaclass=MyMetaClass): ...: pass ...: In [3]: a = test() **** Here`s my MetaClass **** In [4]: a2 = test() **** Here`s my MetaClass **** In [5]: id(a) Out[5]: 139837183079520 In [6]: id(a2) Out[6]: 139837183079520 è™½ç„¶å•ä¾‹æ¨¡å¼åœ¨è®¸å¤šæƒ…å†µä¸‹æ•ˆæœå¾ˆå¥½ï¼Œä½†æ˜¯ç”±äºå•ä¾‹æ¨¡å¼å…·æœ‰å…¨å±€è®¿é—®æƒé™ï¼Œå¯èƒ½ä¼šå­˜åœ¨ä¸€äº›é—®é¢˜
å…¨å±€å˜é‡å¯èƒ½åœ¨æŸå¤„å·²ç»è¢«æ›´æ”¹ï¼Œä½†æ˜¯å¼€å‘äººå‘˜ä»ç„¶è®¤ä¸ºå®ƒä»¬æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œè€Œæ”¹å˜é‡è¿˜åœ¨åº”ç”¨ç¨‹åºçš„å…¶ä»–ä½ç½®è¢«ä½¿ç”¨ å¯èƒ½ä¼šå¯¹åŒä¸€ä¸ªå¯¹è±¡åˆ›å»ºå¤šä¸ªåº”ç”¨ï¼ˆæ­¤å•ä¾‹ç±»è¢«å¤šæ¬¡å®ä¾‹åŒ–ï¼Œå®é™…åªå®ä¾‹åŒ–ä¸€æ¬¡å°±å¯ä»¥ï¼‰ æ‰€æœ‰ä¾èµ–äºå…¨å±€å˜é‡çš„ç±»éƒ½ä¼šç”±äºä¸€ä¸ªç±»çš„æ”¹å˜è€Œç´§å¯†è€¦åˆä¸ºå…¨å±€æ•°æ®ï¼Œä»è€Œå¯èƒ½åœ¨æ— æ„ä¸­å½±å“å¦ä¸€ä¸ªç±» ...</p></div><footer class=entry-footer>ğŸ“…æœ€åæ›´æ–°:&nbsp;0001-01-01&nbsp|&nbspâ²ï¸æ—¶é•¿: 5 min&nbsp|&nbspğŸ“–å­—æ•°: 2056 words&nbsp;|&nbsp;Luenci</footer><a class=entry-link aria-label="post link to åˆ›å»ºå‹æ¨¡å¼" href=https://luenci.com/en/posts/%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>è®¾è®¡æ¨¡å¼</h2></header><div class=entry-content><p>è®¾è®¡æ¨¡å¼ è®¾è®¡æ¨¡å¼è®¾è®¡æ¨¡å¼æ˜¯é’ˆå¯¹è½¯ä»¶å¼€å‘ä¸­ç»å¸¸é‡åˆ°çš„ä¸€äº›è®¾è®¡é—®é¢˜ï¼Œæ€»ç»“å‡ºæ¥çš„ä¸€å¥—è§£å†³æ–¹æ¡ˆæˆ–è€…è®¾è®¡æ€è·¯ã€‚å¤§éƒ¨åˆ†è®¾è®¡æ¨¡å¼è¦è§£å†³çš„éƒ½æ˜¯ä»£ç çš„å¯æ‰©å±•æ€§é—®é¢˜ã€‚è®¾è®¡æ¨¡å¼ç›¸å¯¹äºè®¾è®¡åŸåˆ™æ¥è¯´ï¼Œæ²¡æœ‰é‚£ä¹ˆæŠ½è±¡ï¼Œè€Œä¸”å¤§éƒ¨åˆ†éƒ½ä¸éš¾ç†è§£ï¼Œä»£ç å®ç°ä¹Ÿå¹¶ä¸å¤æ‚ã€‚è¿™ä¸€å—çš„å­¦ä¹ éš¾ç‚¹æ˜¯äº†è§£å®ƒä»¬éƒ½èƒ½è§£å†³å“ªäº›é—®é¢˜ï¼ŒæŒæ¡å…¸å‹çš„åº”ç”¨åœºæ™¯ï¼Œå¹¶ä¸”æ‡‚å¾—ä¸è¿‡åº¦åº”ç”¨ã€‚
...</p></div><footer class=entry-footer>ğŸ“…æœ€åæ›´æ–°:&nbsp;0001-01-01&nbsp|&nbspâ²ï¸æ—¶é•¿: 4 min&nbsp|&nbspğŸ“–å­—æ•°: 1748 words&nbsp;|&nbsp;Luenci</footer><a class=entry-link aria-label="post link to è®¾è®¡æ¨¡å¼" href=https://luenci.com/en/posts/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Pythonå…ƒç±»å­¦ä¹ </h2></header><div class=entry-content><p>ä½ æƒ³é€šè¿‡æ”¹å˜å®ä¾‹åˆ›å»ºæ–¹å¼æ¥å®ç°å•ä¾‹ã€ç¼“å­˜æˆ–å…¶ä»–ç±»ä¼¼çš„ç‰¹æ€§ã€‚
ç±»çš„åˆ›å»ºè¿‡ç¨‹ https://docs.python.org/3/reference/datamodel.html#metaclasses
å½“ Python è§åˆ° class å…³é”®å­—æ—¶ï¼Œä¼šé¦–å…ˆè§£æ class ... ä¸­çš„å†…å®¹ã€‚ä¾‹å¦‚è§£æåŸºç±»ä¿¡æ¯ï¼Œæœ€é‡è¦çš„æ˜¯æ‰¾åˆ°å¯¹åº”çš„å…ƒç±»ä¿¡æ¯ï¼ˆé»˜è®¤æ˜¯ type)ã€‚ å…ƒç±»æ‰¾åˆ°åï¼ŒPython éœ€è¦å‡†å¤‡ namespace ï¼ˆä¹Ÿå¯ä»¥è®¤ä¸ºæ˜¯ä¸ŠèŠ‚ä¸­ type çš„ dict å‚æ•°ï¼‰ã€‚å¦‚æœå…ƒç±»å®ç°äº† __prepare__ å‡½æ•°ï¼Œåˆ™ä¼šè°ƒç”¨å®ƒæ¥å¾—åˆ°é»˜è®¤çš„ namespace ã€‚ ä¹‹åæ˜¯è°ƒç”¨ exec æ¥æ‰§è¡Œç±»çš„ bodyï¼ŒåŒ…æ‹¬å±æ€§å’Œæ–¹æ³•çš„å®šä¹‰ï¼Œæœ€åè¿™äº›å®šä¹‰ä¼šè¢«ä¿å­˜è¿› namespaceã€‚ ä¸Šè¿°æ­¥éª¤ç»“æŸåï¼Œå°±å¾—åˆ°äº†åˆ›å»ºç±»éœ€è¦çš„æ‰€æœ‰ä¿¡æ¯ï¼Œè¿™æ—¶ Python ä¼šè°ƒç”¨å…ƒç±»çš„æ„é€ å‡½æ•°æ¥çœŸæ­£åˆ›å»ºç±»ã€‚ å¦‚æœä½ æƒ³åœ¨ç±»çš„åˆ›å»ºè¿‡ç¨‹ä¸­åšä¸€äº›å®šåˆ¶(customization)çš„è¯ï¼Œåˆ›å»ºè¿‡ç¨‹ä¸­ä»»ä½•ç”¨åˆ°äº†å…ƒç±»çš„åœ°æ–¹ï¼Œæˆ‘ä»¬éƒ½èƒ½é€šè¿‡è¦†ç›–å…ƒç±»çš„é»˜è®¤æ–¹æ³•æ¥å®ç°å®šåˆ¶ã€‚è¿™ä¹Ÿæ˜¯å…ƒç±»â€œæ— æ‰€ä¸èƒ½â€çš„æ‰€åœ¨ï¼Œå®ƒæ·±æ·±åœ°åµŒå…¥äº†ç±»çš„åˆ›å»ºè¿‡ç¨‹ã€‚
typeåŠ¨æ€åˆ›å»ºç±» 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 # å¸¸è§„æ–¹æ³•åˆ›å»ºç±» class Foo(object): name = "luenci" def func(self): return 666 # åŸºäºtypeåˆ›å»ºç±» # - ç±»å # - ç»§æ‰¿çš„ç±» # - ç±»å±æ€§ # - ç±»æ–¹æ³• foo1 = type("Foo", (object,), {"name": "luenci", "func": lambda self: "hi"}) ...</p></div><footer class=entry-footer>ğŸ“…æœ€åæ›´æ–°:&nbsp;0001-01-01&nbsp|&nbspâ²ï¸æ—¶é•¿: 2 min&nbsp|&nbspğŸ“–å­—æ•°: 729 words&nbsp;|&nbsp;Luenci</footer><a class=entry-link aria-label="post link to Pythonå…ƒç±»å­¦ä¹ " href=https://luenci.com/en/posts/python%E5%85%83%E7%B1%BB/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Goè¯­è¨€åŸºç¡€çŸ¥è¯†å’Œè¯­æ³•</h2></header><div class=entry-content><p>Goè¯­è¨€ç‰¹ç‚¹ æ²¡æœ‰å¤´æ–‡ä»¶æ¦‚å¿µï¼Œ.goåç¼€ å¼ºç±»å‹è¯­è¨€ï¼Œç¼–è¯‘å‹è¯­è¨€ ä¸€ä¸ªgoè¯­è¨€çš„åº”ç”¨ç¨‹åºï¼Œåœ¨è¿è¡Œçš„æ—¶å€™æ˜¯ä¸éœ€è¦ä¾èµ–å¤–éƒ¨åº“çš„ æŠŠæ‰§è¡Œæ—¶éœ€è¦çš„åº“éƒ½æ‰“åŒ…åˆ°ç¨‹åºä¸­ goç¨‹åºæ¯”è¾ƒå¤§ å¦‚æœimportçš„åŒ…æ²¡æœ‰ä½¿ç”¨ï¼Œé‚£ä¹ˆç¨‹åºä¸å…è®¸ç¼–è¯‘ goè¯­æ³•ä¸åŒºåˆ†å¹³å°çš„ï¼Œåœ¨windosä¸‹é¢ç¼–è¯‘çš„ä¸€ä¸ªç¨‹åºï¼Œå¯ä»¥åœ¨Linuxä¸Šè¿è¡Œï¼Œéœ€è¦é…ç½®ç¯å¢ƒå˜é‡æ¥æ§åˆ¶ GOOSï¼šè®¾å®šè¿è¡Œå¹³å° macï¼šdarwin linuxï¼šlinux windosï¼šwindos GOARCHï¼šç›®æ ‡å¹³å°çš„ä½“ç³»æ¶æ„ 386 amd64 arm Goå‘½ä»¤ go build -o ç”Ÿæˆæ–‡ä»¶å.exe ç¼–è¯‘æ–‡ä»¶å.go
go run *.go
ç›´æ¥è¿è¡Œç¨‹åºä¸ä¼šç¼–è¯‘æˆexeæ–‡ä»¶ å®‰è£…ç¨‹åº
./configure make make install â€”>å°†ç¼–è¯‘å¥½çš„ç¨‹åºå®‰è£…åˆ°æŒ‡å®šç›®å½• go install
å°†ç¼–è¯‘åçš„å¯æ‰§è¡Œæ–‡ä»¶å®‰è£…åˆ° GOBIN ç›®å½•ä¸‹ go mod
å‚æ•°
go mod èµ„æ–™è¿æ¥ go mod ä½¿ç”¨
å¼€å§‹ä½¿ç”¨ Go Module
ä¾èµ–åŒ…å­˜å‚¨ä½ç½® ä½¿ç”¨go getè·å–çš„åŒ…æ”¾åœ¨$GOPATH/src/ç›®å½•ä¸‹ ä½¿ç”¨go modä¸‹è½½çš„ä¾èµ–åŒ…æ”¾åœ¨$GOPATH/pkg/mod/ç›®å½•ä¸‹ï¼Œæ‰€æœ‰é¡¹ç›®å…±äº« Goç›®å½•ç»“æ„ ä¸€èˆ¬çš„ï¼Œä¸€ä¸ªGoé¡¹ç›®åœ¨GOPATHä¸‹ï¼Œä¼šæœ‰å¦‚ä¸‹ä¸‰ä¸ªç›®å½•ï¼š ä¸€èˆ¬ï¼Œbinå’Œpkgç›®å½•å¯ä»¥ä¸åˆ›å»ºï¼Œgoå‘½ä»¤ä¼šè‡ªåŠ¨åˆ›å»ºï¼ˆå¦‚ go installï¼‰ï¼Œåªéœ€è¦åˆ›å»ºsrcç›®å½•å³å¯ã€‚
1 2 3 |--bin |--pkg |--src binå­˜æ”¾ç¼–è¯‘åçš„å¯æ‰§è¡Œæ–‡ä»¶
1 pkg å­˜æ”¾ç¼–è¯‘åçš„åŒ…æ–‡ä»¶
pkgä¸­çš„æ–‡ä»¶æ˜¯Goç¼–è¯‘ç”Ÿæˆçš„ï¼Œè€Œä¸æ˜¯æ‰‹åŠ¨æ”¾è¿›å»çš„ srcå­˜æ”¾é¡¹ç›®æºæ–‡ä»¶
Goæ•°æ®ç±»å‹ goè¯­è¨€ä¸æ”¯æŒéšå¼ç±»å‹è½¬æ¢ æ¯”å¦‚ä»int è½¬ä¸º int 64å°±ä¼šå‘ç”Ÿç¼–è¯‘é”™è¯¯ æ˜¾ç¤ºç±»å‹è½¬æ¢å’Œéšå¼ç±»å‹è½¬æ¢ å½“ä¸¤ç§æˆ–å¤šç§æ•°æ®ç±»å‹è¿›è¡ŒæŸç§æ“ä½œæ—¶ï¼Œä¸éœ€è¦å¹²é¢„ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è¿›è¡Œéšå¼è½¬æ¢ã€‚ ä½†ä½ éœ€è¦æŠŠä¸€ä¸ª long ç±»å‹çš„æ•°æ®è½¬æˆ int æ—¶ï¼Œåˆæˆ–è€…è®© string ä¸ int äº’è½¬ï¼Œå½“æ•°æ®å°æ•°ç‚¹å¤ªå¤šæ—¶ï¼Œè¿™æ—¶å€™å°±å¿…é¡»ä½¿ç”¨ æ˜¾å¼è½¬å‹ Golangçš„é›¶å€¼ Goè¯­è¨€ä¸­çš„é›¶å€¼æ˜¯å˜é‡æ²¡æœ‰åšåˆå§‹åŒ–æ—¶ç³»ç»Ÿé»˜è®¤è®¾ç½®çš„å€¼ã€‚ æ‰€æœ‰å…¶ä»–æ•°å€¼å‹çš„ç±»å‹ï¼ˆåŒ…æ‹¬complex64/128ï¼‰é›¶å€¼éƒ½æ˜¯0ï¼Œå¯ä»¥ç”¨å¸¸é‡è¡¨è¾¾å¼ä»£è¡¨æ•°å€¼0çš„ä»»ä½•å½¢å¼è¡¨ç¤ºå‡ºæ¥ã€‚ ä½†æ˜¯ç±»å‹ä¸èƒ½æ··ç”¨ï¼Œå˜é‡ç±»å‹å’Œé›¶å€¼ç±»å‹å¿…é¡»åŒ¹é…ã€‚ å¸ƒå°”ç±»å‹çš„é›¶å€¼ï¼ˆåˆå§‹å€¼ï¼‰ä¸º falseï¼Œæ•°å€¼ç±»å‹çš„é›¶å€¼ä¸º 0ï¼Œå­—ç¬¦ä¸²ç±»å‹çš„é›¶å€¼ä¸ºç©ºå­—ç¬¦ä¸²""ï¼Œè€ŒæŒ‡é’ˆã€åˆ‡ç‰‡ã€æ˜ å°„ã€é€šé“ã€å‡½æ•°å’Œæ¥å£çš„é›¶å€¼åˆ™æ˜¯ nilã€‚ ...</p></div><footer class=entry-footer>ğŸ“…æœ€åæ›´æ–°:&nbsp;0001-01-01&nbsp|&nbspâ²ï¸æ—¶é•¿: 11 min&nbsp|&nbspğŸ“–å­—æ•°: 5194 words&nbsp;|&nbsp;Luenci</footer><a class=entry-link aria-label="post link to Goè¯­è¨€åŸºç¡€çŸ¥è¯†å’Œè¯­æ³•" href=https://luenci.com/en/posts/go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%92%8C%E8%AF%AD%E6%B3%95/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Goé¢å‘å¯¹è±¡ç›¸å…³çŸ¥è¯†</h2></header><div class=entry-content><p>Goé¢å‘å¯¹è±¡ç›¸å…³çŸ¥è¯† ç±»çš„å°è£…å’Œç»‘å®šæ–¹æ³• 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 package main import "fmt" // goè¯­è¨€æ²¡æœ‰classå…³é”®å­—ç”Ÿæˆç±» // ä½¿ç”¨structå£°æ˜ç±» type Person struct { // æˆå‘˜å±æ€§ name string age int gender string } // ç±»å¤–è¾¹ç»‘å®šæ–¹æ³• // ç±»çš„æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨è‡ªå·±çš„æˆå‘˜ // ä½¿ç”¨æŒ‡é’ˆå¯ä»¥ä¿®æ”¹ç±»çš„æˆå‘˜å˜é‡ç­‰ func (p *Person) Eat() { fmt.Println("ä½¿ç”¨ *Person æŒ‡é’ˆ ä¿®æ”¹å‰") fmt.Println(p.name + " is eating") p.name = "luenci" fmt.Println("ä½¿ç”¨ *Person æŒ‡é’ˆ ä¿®æ”¹å") fmt.Println(p.name + " is eating") } func (p Person) Eat2() { fmt.Println("ä½¿ç”¨ Person ä¸æ˜¯æŒ‡é’ˆ ä¿®æ”¹å‰") fmt.Println(p.name + " is eating") p.name = "luenci" fmt.Println("ä½¿ç”¨ Person ä¸æ˜¯æŒ‡é’ˆ ä¿®æ”¹å") fmt.Println(p.name + " is eating") } func main() { lynn := Person{ name: "lynn", age: 20, gender: "girl", } lynn.Eat() lynn.Eat2() } ç±»çš„ç»§æ‰¿ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 package main import "fmt" type Human struct { name string sex string age int } type Student struct { hum Human // åŒ…å« Humanç±»å‹çš„å˜é‡ æ˜¯åµŒå¥—ç±» school string } type Teacher struct { Human // ç›´æ¥å£°æ˜Humanç±»å‹ï¼Œæ²¡æœ‰å®šä¹‰å˜é‡ ç±»ç»§æ‰¿ school string } // ç±»å¤–é¢ç»‘å®šæ–¹æ³• func (h *Human) Eat() { fmt.Println(h.name + " is eating") } func main() { st1 := Student{ hum: Human{ name: "lynn", sex: "girl", age: 20, }, school: "ä¸€ä¸­", } fmt.Println("st1", st1) fmt.Println("st1 name", st1.hum.name) t1 := Teacher{} t1.school = "ä¸€ä¸­" t1.name = "lynn" t1.sex = "girl" t1.age = 20 fmt.Println("t1", t1) fmt.Println("t1 name", t1.name) // ç»§æ‰¿çš„æ—¶å€™è™½ç„¶æˆ‘ä»¬æ²¡æœ‰å£°æ˜å˜é‡åç§°ï¼Œä½†æ˜¯é»˜è®¤è‡ªåŠ¨ä¼šç»™ç±»å‹åˆ›å»ºä¸€ä¸ªåŒåå­—æ®µ // è¿™æ˜¯ä¸ºäº†èƒ½åœ¨å­ç±»ä¸­æ“ä½œçˆ¶ç±»ï¼Œå› ä¸ºï¼šå­ç±»çˆ¶ç±»å¯èƒ½å‡ºç°åŒåå­—æ®µ fmt.Println("t1 age", t1.Human.age) } ç±»æˆå‘˜è®¿é—®æƒé™ï¼ˆå­—æ®µå¤§å°å†™ï¼‰...</p></div><footer class=entry-footer>ğŸ“…æœ€åæ›´æ–°:&nbsp;0001-01-01&nbsp|&nbspâ²ï¸æ—¶é•¿: 5 min&nbsp|&nbspğŸ“–å­—æ•°: 2016 words&nbsp;|&nbsp;Luenci</footer><a class=entry-link aria-label="post link to Goé¢å‘å¯¹è±¡ç›¸å…³çŸ¥è¯†" href=https://luenci.com/en/posts/go%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>ç®¡é“å’Œgoç¨‹</h2></header><div class=entry-content><p>ç®¡é“å’Œgoç¨‹ goroutineï¼ˆgoç¨‹ï¼‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 package main import ( "fmt" "time" ) func display(num int) { count := 1 for { fmt.Println("============> è¿™æ˜¯å­goç¨‹ï¼š", num, "å½“å‰countå€¼", count) count++ } } func main() { // å¯åŠ¨å­goç¨‹ for i := 0; i &lt; 3; i++ { go display(i) } // ä¸»goç¨‹ count := 1 for { fmt.Println("============> è¿™æ˜¯ä¸»goç¨‹ï¼š", count) count++ time.Sleep(1 * time.Second) } } æå‰é€€å‡ºgoç¨‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 package main import ( "fmt" "runtime" "time" ) // GOEXIT ===> æå‰é€€å‡ºgoç¨‹ // return ===> è¿”å›å½“å‰å‡½æ•° // exit ===> é€€å‡ºå½“å‰è¿›ç¨‹ func main() { go func() { func() { fmt.Println("å­goç¨‹å†…éƒ¨çš„å‡½æ•°!") //return // é€€å‡ºå½“å‰å‡½æ•° //os.Exit(-1) // é€€å‡ºè¿›ç¨‹ runtime.Goexit() // é€€å‡ºå½“å‰goç¨‹ }() fmt.Println("å­goç¨‹ç»“æŸï¼") }() // ä¸»goç¨‹éœ€è¦ç­‰å¾…å­goç¨‹é€€å‡º fmt.Println("ä¸»goç¨‹~") time.Sleep(5 * time.Second) fmt.Println("OVER!") } æ— ç¼“å†²ç®¡é“ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 package main import ( "fmt" "time" ) /* å½“é€šé“åœ¨å¤šä¸ªåç¨‹ä¹‹é—´ä¼ è¾“çš„æ˜¯æŒ‡å‘æ•°æ®çš„æŒ‡é’ˆæ˜¯ï¼Œä¸”è¯»å†™æ“ä½œæ˜¯ç”±ä¸åŒçš„åç¨‹æ“ä½œï¼Œåˆ™éœ€è¦æä¾›é¢å¤–çš„åŒæ­¥åŠ¨ä½œã€‚ */ func main() { // å½“æ¶‰åŠåˆ°å¤šgoç¨‹æ—¶ï¼Œcè¯­è¨€ä½¿ç”¨äº’æ–¥é‡ï¼Œä¸Šé”æ¥ä¿æŒèµ„æºåŒæ­¥ï¼Œé¿å…èµ„æºç«äº‰é—®é¢˜ // goè¯­è¨€æ›´å¥½çš„è§£å†³æ–¹æ¡ˆæ˜¯ç®¡é“ã€é€šé“ // ä½¿ç”¨é€šé“ä¸éœ€è¦æ‰‹åŠ¨è¿›è¡ŒåŠ é” //sync.RWMutex{} // åˆ›å»ºç®¡é“ å…³é”®å­— chan numChan := make(chan int) // è£…æ•°å­—çš„ç®¡é“ï¼Œæ— ç¼“å†²é€šé“ï¼Œæœªå£°æ˜ç©ºé—´ //numChan := make(chan int, 10) // æœ‰ç¼“å†²é€šé“ // åˆ›å»ºä¸¤ä¸ªgoç¨‹ï¼Œçˆ¶å†™ï¼Œå­è¯» // å‘ç°å­goç¨‹æ²¡æœ‰å‘ç”Ÿèµ„æºæŠ¢å¤º // å­goç¨‹1 go func() { for i := 0; i &lt; 25; i++ { // åªèƒ½ &lt;- æ•°æ®æµå‘ data := &lt;-numChan fmt.Println("å­goç¨‹1 è¯»å–data", data) } }() // å­goç¨‹2 go func() { for i := 0; i &lt; 25; i++ { data := &lt;-numChan fmt.Println("å­goç¨‹2 è¯»å–data", data) } }() // çˆ¶goç¨‹ for i := 0; i &lt; 50; i++ { // å‘ç®¡é“ä¸­å†™å…¥æ•°æ® numChan &lt;- i fmt.Println("====> ä¸»goç¨‹ï¼Œå†™å…¥æ•°æ®", i) } time.Sleep(5 * time.Second) } ...</p></div><footer class=entry-footer>ğŸ“…æœ€åæ›´æ–°:&nbsp;0001-01-01&nbsp|&nbspâ²ï¸æ—¶é•¿: 5 min&nbsp|&nbspğŸ“–å­—æ•°: 2255 words&nbsp;|&nbsp;Luenci</footer><a class=entry-link aria-label="post link to ç®¡é“å’Œgoç¨‹" href=https://luenci.com/en/posts/%E8%BF%9B%E9%98%B6%E8%AF%AD%E6%B3%95%E7%AE%A1%E9%81%93%E5%92%8Cgo%E7%A8%8B/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>consulæœåŠ¡å‘ç°</h2></header><div class=entry-content><p>consulæœåŠ¡å‘ç° Consulæ˜¯ç”±HashiCorpå¼€å‘çš„ä¸€ä¸ªæ”¯æŒå¤šæ•°æ®ä¸­å¿ƒçš„åˆ†å¸ƒå¼æœåŠ¡å‘ç°å’Œé”®å€¼å¯¹å­˜å‚¨æœåŠ¡çš„å¼€æºè½¯ä»¶ï¼Œè¢«å¤§é‡åº”ç”¨äºåŸºäºå¾®æœåŠ¡çš„è½¯ä»¶æ¶æ„å½“ä¸­ã€‚
æœåŠ¡å‘ç°æµç¨‹å›¾ æœåŠ¡å‘ç°ï¼Œä¹Ÿå¯ä»¥çœ‹åšä¸€ä¸ªâ€œæœåŠ¡â€ï¼Œæ˜¯ç»™â€œæœåŠ¡â€æä¾›æœåŠ¡çš„ æœåŠ¡å‘ç°ç§ç±» consulï¼šå¸¸ç”¨äºgo-microä¸­ mdnsï¼šgo-microä¸­é»˜è®¤çš„æœåŠ¡å‘ç° etcdï¼šk8så†…åµŒçš„æœåŠ¡å‘ç° zookeeperï¼šjavaä¸­å¸¸ç”¨ Consulå…³é”®ç‰¹æ€§ æœåŠ¡å‘ç°ï¼šconsulæä¾›æœåŠ¡ï¼ŒæœåŠ¡ç«¯ä¸»åŠ¨å‘consulå‘èµ·æ³¨å†Œã€‚ å¥åº·æ£€æŸ¥ï¼šå®šæ—¶å‘é€æ¶ˆæ¯ï¼Œç±»ä¼¼äºâ€œå¿ƒè·³åŒ…â€ï¼Œä¿è¯å®¢æˆ·ç«¯è·å–åˆ°çš„ä¸€å®šæ˜¯å¥åº·çš„æœåŠ¡ã€‚ é”®å€¼å­˜å‚¨ï¼šconsulæä¾›ï¼Œä½†å¸¸ç”¨äºredisã€‚ å¤šæ•°æ®ä¸­å¿ƒï¼šå¯ä»¥è½»æ¾åŠ å…¥é›†ç¾¤ã€‚ Consul å‚æ•° å®‰è£…å¥½ Consul åï¼Œåœ¨å¯åŠ¨ç¨‹åºä¹‹å‰ï¼Œéœ€è¦æŒæ¡ä¸€äº›é…ç½®å‚æ•°ï¼Œé€šè¿‡æŒæ¡è¿™äº›å‚æ•°ï¼Œå¯ä»¥ä¸€æ¬¡æ€§çš„æˆåŠŸè¿è¡Œ Consul æœåŠ¡å™¨é›†ç¾¤ï¼Œå¸¸ç”¨çš„å‚æ•°å¦‚ä¸‹ï¼š å‚æ•°åç§° ç”¨é€” -server æ­¤æ ‡å¿—ç”¨äºæ§åˆ¶ä»£ç†æ˜¯è¿è¡ŒäºæœåŠ¡å™¨/å®¢æˆ·ç«¯æ¨¡å¼ï¼Œæ¯ä¸ª Consul é›†ç¾¤è‡³å°‘æœ‰ä¸€ä¸ªæœåŠ¡å™¨ï¼Œæ­£å¸¸æƒ…å†µä¸‹ä¸è¶…è¿‡5ä¸ªï¼Œä½¿ç”¨æ­¤æ ‡è®°çš„æœåŠ¡å™¨å‚ä¸ Raftä¸€è‡´æ€§ç®—æ³•ã€é€‰ä¸¾ç­‰äº‹åŠ¡æ€§å·¥ä½œ -http-port=8500 consulè‡ªå¸¦çš„ä¸€ä¸ªwebè®¿é—®ç«¯å£ï¼Œé»˜è®¤ä¸º8500 -client è¡¨ç¤º Consul ç»‘å®šå®¢æˆ·ç«¯æ¥å£çš„IPåœ°å€ï¼Œé»˜è®¤å€¼ä¸ºï¼š127.0.0.1ï¼Œå½“ä½ æœ‰å¤šå—ç½‘å¡çš„æ—¶å€™ï¼Œæœ€å¥½æŒ‡å®šIPåœ°å€ï¼Œä¸è¦ä½¿ç”¨é»˜è®¤å€¼ -bootstrap-expect é¢„æœŸçš„æœåŠ¡å™¨é›†ç¾¤çš„æ•°é‡ï¼Œæ•´æ•°ï¼Œå¦‚ -bootstrap-expect=3ï¼Œè¡¨ç¤ºé›†ç¾¤æœåŠ¡å™¨æ•°é‡ä¸º3å°ï¼Œè®¾ç½®è¯¥å‚æ•°åï¼ŒConsulå°†ç­‰å¾…æŒ‡å®šæ•°é‡çš„æœåŠ¡å™¨å…¨éƒ¨åŠ å…¥é›†ç¾¤å¯ç”¨åï¼Œæ‰å¼€å§‹å¼•å¯¼é›†ç¾¤æ­£å¼å¼€å§‹å·¥ä½œï¼Œæ­¤å‚æ•°å¿…é¡»ä¸ -server ä¸€èµ·ä½¿ç”¨ -data-dir å­˜å‚¨æ•°æ®çš„ç›®å½•ï¼Œè¯¥ç›®å½•åœ¨ Consul ç¨‹åºé‡å¯åæ•°æ®ä¸ä¼šä¸¢å¤±ï¼ŒæŒ‡å®šæ­¤ç›®å½•æ—¶ï¼Œåº”ç¡®ä¿è¿è¡Œ Consul ç¨‹åºçš„ç”¨æˆ·å¯¹è¯¥ç›®å½•å…·æœ‰è¯»å†™æƒé™ -config-dir=XX æ‰€æœ‰æœåŠ¡ä¸»åŠ¨æ³¨å†Œçš„é…ç½®æ–‡ä»¶ - node å½“å‰æœåŠ¡å™¨åœ¨é›†ç¾¤ä¸­çš„åç§°ï¼Œè¯¥å€¼åœ¨æ•´ä¸ª Consul é›†ç¾¤ä¸­å¿…é¡»å”¯ä¸€ï¼Œé»˜è®¤å€¼ä¸ºå½“å‰ä¸»æœºåç§° - bind Consul åœ¨å½“å‰æœåŠ¡å™¨ä¾¦å¬çš„åœ°å€ï¼Œå¦‚æœæ‚¨æœ‰å¤šå—ç½‘å¡ï¼Œè¯·åŠ¡å¿…æŒ‡å®šä¸€ä¸ªIPåœ°å€ï¼ˆIPv4/IPv6)ï¼Œé»˜è®¤å€¼ä¸ºï¼š0.0.0.0ï¼Œä¹Ÿå¯ç”¨ä½¿ç”¨[::] ...</p></div><footer class=entry-footer>ğŸ“…æœ€åæ›´æ–°:&nbsp;0001-01-01&nbsp|&nbspâ²ï¸æ—¶é•¿: 4 min&nbsp|&nbspğŸ“–å­—æ•°: 2003 words&nbsp;|&nbsp;Luenci</footer><a class=entry-link aria-label="post link to consulæœåŠ¡å‘ç°" href=https://luenci.com/en/posts/consul%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>jsonã€ç»“æ„ä½“æ ‡ç­¾å’Œrpcå…¥é—¨</h2></header><div class=entry-content><p>jsonã€ç»“æ„ä½“æ ‡ç­¾å’Œrpcå…¥é—¨ jsonä½¿ç”¨ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 package main import ( "encoding/json" "fmt" "reflect" ) // å°† ç»“æ„ä½“ --> å­—ç¬¦ä¸² ç¼–ç  // å°† å­—ç¬¦ä¸² --> ç»“æ„ä½“ è§£ç  // ç»“æ„ä½“çš„æˆå‘˜é¡»å¤§å†™ï¼Œä¸ç„¶ä¸å‚ä¸ç¼–ç  type Student struct { Name string Sex string Age int Score int } func main() { st1 := Student{ Name: "luenci", Sex: "man", Age: 22, Score: 99, } // ç¼–ç  åºåˆ—åŒ– encodeInfo, err := json.Marshal(st1) if err != nil { fmt.Println("åºåˆ—åŒ–å‘ç”Ÿé”™è¯¯,error", err) return } fmt.Println(reflect.TypeOf(encodeInfo)) fmt.Println(string(encodeInfo)) // è§£ç  ååºåˆ—åŒ– var st2 Student if err := json.Unmarshal([]byte(encodeInfo), &amp;st2); err != nil { fmt.Println("ååºåˆ—åŒ–å‘ç”Ÿé”™è¯¯,", err) return } fmt.Println(st2.Name) } ...</p></div><footer class=entry-footer>ğŸ“…æœ€åæ›´æ–°:&nbsp;0001-01-01&nbsp|&nbspâ²ï¸æ—¶é•¿: 3 min&nbsp|&nbspğŸ“–å­—æ•°: 1380 words&nbsp;|&nbsp;Luenci</footer><a class=entry-link aria-label="post link to jsonã€ç»“æ„ä½“æ ‡ç­¾å’Œrpcå…¥é—¨" href=https://luenci.com/en/posts/json%E7%BB%93%E6%9E%84%E4%BD%93%E6%A0%87%E7%AD%BE%E5%92%8Crpc%E5%85%A5%E9%97%A8/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://luenci.com/en/posts/page/2/>Â«&nbsp;Prev&nbsp;
</a><a class=next href=https://luenci.com/en/posts/page/4/>Next&nbsp;&nbsp;Â»</a></nav></footer></main><footer class=footer><script src=https://sdk.jinrishici.com/v2/browser/jinrishici.js></script><script type=text/javascript>jinrishici.load(function(e){var t=document.querySelector(".poem_sentence"),n=document.querySelector(".poem_info");t.innerHTML=e.data.content,n.innerHTML="â€”â€” "+e.data.origin.author})</script><span><a id=running-time></a><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><span id=busuanzi_container><link rel=stylesheet href=//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css>ğŸ‘ï¸â€ğŸ—¨ï¸è®¿å®¢äººæ•°: <span id=busuanzi_value_site_uv></span>|
ğŸŒè®¿é—®é‡: <span id=busuanzi_value_site_pv></span></span></span><br><span>&copy; 2025 <a href=https://luenci.com/en/>Luenci</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a> ğŸ“–
<text class=poem_sentence></text><text class=poem_info></text></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})});const RunningTimerInterval=1e3,StartTime=new Date("10/11/2018 00:00:00");function prefixZero(e){return e<10&&(e="0"+e),e}function updateTime(){const r=new Date;let e=r.getTime()-StartTime.getTime();const t=24*60*60*1e3,n=Math.floor(e/t);e-=n*t;const s=60*60*1e3,o=Math.floor(e/s);e-=o*s;const i=60*1e3,a=Math.floor(e/i);e-=a*i;const c=Math.floor(e/1e3),l=document.getElementById("running-time");l.innerText="ğŸ•š: "+n+"å¤©"+prefixZero(o)+"å°æ—¶"+prefixZero(a)+"åˆ†"+prefixZero(c)+"ç§’"}document.addEventListener("DOMContentLoaded",()=>{let e=setInterval(updateTime,RunningTimerInterval)})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>