<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>MCP 入门（协议篇） | Luenci</title>
<meta name=keywords content="LLM"><meta name=description content="MCP 入门（概念篇）
MCP  诞生背景
Model Context Protocol (MCP)

MCP 是 Claude(Anthropic) 主导发布的一个开放的、通用的、有共识的协议标准。
​	MCP 于 2024 年 11 月由 Anthropic 发布，旨在标准化 AI 模型与外部数据源（如数据库、API、文件系统）的连接。它的目标是让 AI 助理能够访问和利用上下文数据，提升响应质量。MCP正在统一不同模型和框架的“函数调用”功能，这催生了一个工具服务商生态系统，大幅降低了智能体与工具/数据的对接复杂度。随着更多框架、服务商和平台采用MCP，这一趋势将持续深化。"><meta name=author content="Luenci"><link rel=canonical href=https://luenci.com/en/posts/mcp%E5%85%A5%E9%97%A8%E6%A6%82%E5%BF%B5%E7%AF%87/><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://luenci.com/images/L.png><link rel=icon type=image/png sizes=16x16 href=https://luenci.com/images/L.png><link rel=icon type=image/png sizes=32x32 href=https://luenci.com/images/L.png><link rel=apple-touch-icon href=https://luenci.com/L.png><link rel=mask-icon href=https://luenci.com/L.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://luenci.com/en/posts/mcp%E5%85%A5%E9%97%A8%E6%A6%82%E5%BF%B5%E7%AF%87/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script defer src=https://umami.luenci.com/script.js data-website-id=b0a9e971-b470-43a2-bda9-182c654377f4></script><meta property="og:title" content="MCP 入门（协议篇）"><meta property="og:description" content="MCP 入门（概念篇）
MCP  诞生背景
Model Context Protocol (MCP)

MCP 是 Claude(Anthropic) 主导发布的一个开放的、通用的、有共识的协议标准。
​	MCP 于 2024 年 11 月由 Anthropic 发布，旨在标准化 AI 模型与外部数据源（如数据库、API、文件系统）的连接。它的目标是让 AI 助理能够访问和利用上下文数据，提升响应质量。MCP正在统一不同模型和框架的“函数调用”功能，这催生了一个工具服务商生态系统，大幅降低了智能体与工具/数据的对接复杂度。随着更多框架、服务商和平台采用MCP，这一趋势将持续深化。"><meta property="og:type" content="article"><meta property="og:url" content="https://luenci.com/en/posts/mcp%E5%85%A5%E9%97%A8%E6%A6%82%E5%BF%B5%E7%AF%87/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-04-30T00:00:00+00:00"><meta property="article:modified_time" content="2025-04-30T00:00:00+00:00"><meta property="og:site_name" content="(〃'▽'〃)"><meta name=twitter:card content="summary"><meta name=twitter:title content="MCP 入门（协议篇）"><meta name=twitter:description content="MCP 入门（概念篇）
MCP  诞生背景
Model Context Protocol (MCP)

MCP 是 Claude(Anthropic) 主导发布的一个开放的、通用的、有共识的协议标准。
​	MCP 于 2024 年 11 月由 Anthropic 发布，旨在标准化 AI 模型与外部数据源（如数据库、API、文件系统）的连接。它的目标是让 AI 助理能够访问和利用上下文数据，提升响应质量。MCP正在统一不同模型和框架的“函数调用”功能，这催生了一个工具服务商生态系统，大幅降低了智能体与工具/数据的对接复杂度。随着更多框架、服务商和平台采用MCP，这一趋势将持续深化。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://luenci.com/en/posts/"},{"@type":"ListItem","position":2,"name":"MCP 入门（协议篇）","item":"https://luenci.com/en/posts/mcp%E5%85%A5%E9%97%A8%E6%A6%82%E5%BF%B5%E7%AF%87/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"MCP 入门（协议篇）","name":"MCP 入门（协议篇）","description":"MCP 入门（概念篇） MCP 诞生背景 Model Context Protocol (MCP) MCP 是 Claude(Anthropic) 主导发布的一个开放的、通用的、有共识的协议标准。\n​\tMCP 于 2024 年 11 月由 Anthropic 发布，旨在标准化 AI 模型与外部数据源（如数据库、API、文件系统）的连接。它的目标是让 AI 助理能够访问和利用上下文数据，提升响应质量。MCP正在统一不同模型和框架的“函数调用”功能，这催生了一个工具服务商生态系统，大幅降低了智能体与工具/数据的对接复杂度。随着更多框架、服务商和平台采用MCP，这一趋势将持续深化。\n","keywords":["LLM"],"articleBody":"MCP 入门（概念篇） MCP 诞生背景 Model Context Protocol (MCP) MCP 是 Claude(Anthropic) 主导发布的一个开放的、通用的、有共识的协议标准。\n​\tMCP 于 2024 年 11 月由 Anthropic 发布，旨在标准化 AI 模型与外部数据源（如数据库、API、文件系统）的连接。它的目标是让 AI 助理能够访问和利用上下文数据，提升响应质量。MCP正在统一不同模型和框架的“函数调用”功能，这催生了一个工具服务商生态系统，大幅降低了智能体与工具/数据的对接复杂度。随着更多框架、服务商和平台采用MCP，这一趋势将持续深化。\nMCP 是一个标准协议，如同电子设备的 Type C 协议(可以充电也可以传输数据)，使 AI 模型能够与不同的 API 和数据源无缝交互。 MCP 旨在替换碎片化的 Agent 代码集成，从而使 AI 系统更可靠，更有效。通过建立通用标准，服务商可以基于协议来推出它们自己服务的 AI 能力，从而支持开发者更快的构建更强大的 AI 应用。开发者也不需要重复造轮子，通过开源项目可以建立强大的 AI Agent 生态。 MCP 可以在不同的应用/服务之间保持上下文，从而增强整体自主执行任务的能力。 ​\t可以理解为 MCP 是将不同任务进行分层处理，每一层都提供特定的能力、描述和限制。而 MCP Client 端根据不同的任务判断，选择是否需要调用某个能力，然后通过每层的输入和输出，构建一个可以处理复杂、多步对话和统一上下文的 Agent。\n通用 AI Agent 落地的最好桥梁 AI Agent 是一个智能系统，它可以自主运行以实现特定目标。传统的 AI 聊天仅提供建议或者需要手动执行任务，AI Agent 则可以分析具体情况，做出决策，并自行采取行动。 AI Agent 可以利用 MCP 提供的功能描述来理解更多的上下文，并在各种平台/服务自动执行任务。 MCP 对于社区生态的好处主要是下面两点：\n开放标准给服务商，服务商可以针对 MCP 开放自己的 API 和部分能力。 不需要重复造轮子，开发者可以用已有的开源 MCP 服务来增强自己的 Agent。 工作原理 MCP 主机 ：像 Claude Desktop、IDE 或 AI 工具这样的程序，需要通过 MCP 访问数据（例如 Claude Desktop、IDE 或 AI 工具） MCP 客户端 ：与服务器保持 1:1 连接的协议客户端 MCP 服务器 ：轻量级程序，每个程序都通过标准化模型上下文协议公开特定功能 本地数据源 ：MCP 服务器可以安全访问的您的计算机文件、数据库和服务 远程服务 ：MCP 服务器可以通过互联网（例如通过 API）连接到的外部系统 MCP Client MCP client 充当 LLM 和 MCP server 之间的桥梁，MCP client 的工作流程如下：\nMCP client 首先从 MCP server 获取可用的工具列表。 将用户的查询连同工具描述通过 function calling 一起发送给 LLM。 LLM 决定是否需要使用工具以及使用哪些工具。 如果需要使用工具，MCP client 会通过 MCP server 执行相应的工具调用。 工具调用的结果会被发送回 LLM。 LLM 基于所有信息生成自然语言响应。 最后将响应展示给用户。 Claude Desktop 和Cursor都支持了MCP Server接入能力，它们就是作为 MCP client来连接某个MCP Server感知和实现调用。\nMCP Server MCP server 是 MCP 架构中的关键组件，它可以提供 3 种主要类型的功能：\n资源（Resources）：类似文件的数据，可以被客户端读取，如 API 响应或文件内容。 工具（Tools）：可以被 LLM 调用的函数（需要用户批准）。 提示（Prompts）：预先编写的模板，帮助用户完成特定任务。 ​\tMCP Server 就是为了实现 AI Agent 的自动化而存在的，它是一个中间层，告诉 AI Agent 目前存在哪些服务，哪些 API，哪些数据源，AI Agent 可以根据 Server 提供的信息来决定是否调用某个服务，然后通过 Function Calling 来执行函数。\n通信机制 MCP 协议支持两种主要的通信机制：基于标准输入输出的本地通信和基于[SSE]（Server-Sent Events）的远程通信。\n这两种机制都使用 JSON-RPC 2.0 格式进行消息传输，确保了通信的标准化和可扩展性。\n本地通信**：**通过 stdio 传输数据，适用于在同一台机器上运行的客户端和服务器之间的通信。 远程通信**：**利用 SSE 与 HTTP 结合，实 现跨网络的实时数据传输，适用于需要访问远程资源或分布式部署的场景。 使用 MCP （iterm-mcp 演示） ​\t本次演示我用的是 claude 客户端，使用的mcp-server是 iterm-mcp。\n1.先将mcp server 工具加入客户端。\n2.输入 prompt在终端中画一个golang吉祥物土拨鼠 。允许会话使用mcp server\n![image-20250430113633360](/Users/luenci/Library/Application Support/typora-user-images/image-20250430113633360.png)\n3.大模型会开始调用 mcp server 开始自动在终端中写程序绘制图。\n![image-20250430113940404](/Users/luenci/Library/Application Support/typora-user-images/image-20250430113940404.png)\n​\t可以看见大模型会自动在终端中执行命令，根据返回的结果试错，纠正。\nMCP 官方资源 官方的开源组织 Model Context Protocol。 官方的文档 modelcontextprotocol。 官方的 MCP Server 列表 Claude Blog 参考文章 https://guangzhengli.com/blog/zh/model-context-protocol https://zhuanlan.zhihu.com/p/27327515233 ","wordCount":"1778","inLanguage":"en","datePublished":"2025-04-30T00:00:00Z","dateModified":"2025-04-30T00:00:00Z","author":{"@type":"Person","name":"Luenci"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://luenci.com/en/posts/mcp%E5%85%A5%E9%97%A8%E6%A6%82%E5%BF%B5%E7%AF%87/"},"publisher":{"@type":"Organization","name":"Luenci","logo":{"@type":"ImageObject","url":"https://luenci.com/images/L.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://luenci.com/en/ accesskey=h title="Luenci (Alt + H)"><img src=https://luenci.com/images/avatar.jpg alt aria-label=logo height=35>Luenci</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://luenci.com/en/ title=🏠主页><span>🏠主页</span></a></li><li><a href=https://luenci.com/en/posts title=📚文章><span>📚文章</span></a></li><li><a href=https://luenci.com/en/search title="🔍搜索 (Alt + /)" accesskey=/><span>🔍搜索</span></a></li><li><a href=https://luenci.com/en/archives title=⏱时间轴><span>⏱时间轴</span></a></li><li><a href=https://luenci.com/en/tags title=🔖标签><span>🔖标签</span></a></li><li><a href=https://luenci.com/en/about title=🙋🏻‍♂️关于><span>🙋🏻‍♂️关于</span></a></li><li><a href=https://luenci.com/en/links title=🤝友链><span>🤝友链</span></a></li><li><a href=https://luenci.com/en/index.xml title=📬RSS><span>📬RSS</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://luenci.com/en/>Home</a>&nbsp;»&nbsp;<a href=https://luenci.com/en/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">MCP 入门（协议篇）</h1><div class=post-meta><span title='2025-04-30 00:00:00 +0000 UTC'>2025-04-30</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;1778 words&nbsp;·&nbsp;Luenci</div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><ul><li><a href=#mcp-%e5%85%a5%e9%97%a8%e6%a6%82%e5%bf%b5%e7%af%87 aria-label="MCP 入门（概念篇）">MCP 入门（概念篇）</a><ul><li><a href=#mcp--%e8%af%9e%e7%94%9f%e8%83%8c%e6%99%af aria-label="MCP  诞生背景">MCP 诞生背景</a><ul><li><a href=#model-context-protocol-mcp aria-label="Model Context Protocol (MCP)">Model Context Protocol (MCP)</a></li><li><a href=#%e9%80%9a%e7%94%a8-ai-agent-%e8%90%bd%e5%9c%b0%e7%9a%84%e6%9c%80%e5%a5%bd%e6%a1%a5%e6%a2%81 aria-label="通用 AI Agent 落地的最好桥梁">通用 AI Agent 落地的最好桥梁</a></li></ul></li><li><a href=#%e5%b7%a5%e4%bd%9c%e5%8e%9f%e7%90%86 aria-label=工作原理>工作原理</a><ul><ul><li><a href=#mcp-client aria-label="MCP Client"><strong>MCP Client</strong></a></li><li><a href=#mcp-server aria-label="MCP Server"><strong>MCP Server</strong></a></li><li><a href=#%e9%80%9a%e4%bf%a1%e6%9c%ba%e5%88%b6 aria-label=通信机制><strong>通信机制</strong></a></li></ul></ul></li><li><a href=#%e4%bd%bf%e7%94%a8-mcp-iterm-mcp-%e6%bc%94%e7%a4%ba aria-label="使用 MCP （iterm-mcp 演示）">使用 MCP （iterm-mcp 演示）</a></li><li><a href=#mcp-%e5%ae%98%e6%96%b9%e8%b5%84%e6%ba%90 aria-label="MCP 官方资源">MCP 官方资源</a></li></ul></li><li><a href=#%e5%8f%82%e8%80%83%e6%96%87%e7%ab%a0 aria-label=参考文章>参考文章</a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h1 id=mcp-入门概念篇>MCP 入门（概念篇）<a hidden class=anchor aria-hidden=true href=#mcp-入门概念篇>#</a></h1><h2 id=mcp--诞生背景>MCP 诞生背景<a hidden class=anchor aria-hidden=true href=#mcp--诞生背景>#</a></h2><h3 id=model-context-protocol-mcp>Model Context Protocol (MCP)<a hidden class=anchor aria-hidden=true href=#model-context-protocol-mcp>#</a></h3><blockquote><p>MCP 是 Claude(Anthropic) 主导发布的一个开放的、通用的、有共识的协议标准。</p></blockquote><p>​ MCP 于 2024 年 11 月由 Anthropic 发布，旨在<strong>标准化 AI 模型与外部数据源（如数据库、API、文件系统）的连接</strong>。它的目标是让 AI 助理能够访问和利用上下文数据，提升响应质量。MCP正在统一不同模型和框架的“函数调用”功能，这催生了一个工具服务商生态系统，大幅降低了智能体与工具/数据的对接复杂度。随着更多框架、服务商和平台采用MCP，这一趋势将持续深化。</p><ul><li>MCP 是一个标准协议，如同电子设备的 Type C 协议(可以充电也可以传输数据)，使 AI 模型能够与不同的 API 和数据源无缝交互。</li><li>MCP 旨在替换碎片化的 Agent 代码集成，从而使 AI 系统更可靠，更有效。通过建立通用标准，服务商可以基于协议来推出它们自己服务的 AI 能力，从而支持开发者更快的构建更强大的 AI 应用。开发者也不需要重复造轮子，通过开源项目可以建立强大的 AI Agent 生态。</li><li>MCP 可以在不同的应用/服务之间保持上下文，从而增强整体自主执行任务的能力。</li></ul><p>​ 可以理解为 MCP 是将不同任务进行分层处理，每一层都提供特定的能力、描述和限制。而 MCP Client 端根据不同的任务判断，选择是否需要调用某个能力，然后通过每层的输入和输出，构建一个可以处理复杂、多步对话和统一上下文的 Agent。</p><h3 id=通用-ai-agent-落地的最好桥梁>通用 AI Agent 落地的最好桥梁<a hidden class=anchor aria-hidden=true href=#通用-ai-agent-落地的最好桥梁>#</a></h3><ul><li>AI Agent 是一个智能系统，它可以自主运行以实现特定目标。传统的 AI 聊天仅提供建议或者需要手动执行任务，AI Agent 则可以分析具体情况，做出决策，并自行采取行动。</li><li>AI Agent 可以利用 MCP 提供的功能描述来理解更多的上下文，并在各种平台/服务自动执行任务。</li></ul><p>MCP 对于社区生态的好处主要是下面两点：</p><ul><li>开放标准给服务商，服务商可以针对 MCP 开放自己的 API 和部分能力。</li><li>不需要重复造轮子，开发者可以用已有的开源 MCP 服务来增强自己的 Agent。</li></ul><h2 id=工作原理>工作原理<a hidden class=anchor aria-hidden=true href=#工作原理>#</a></h2><ul><li><strong>MCP 主机</strong> ：像 Claude Desktop、IDE 或 AI 工具这样的程序，需要通过 MCP 访问数据（例如 <a href="https://zhida.zhihu.com/search?content_id=254488153&amp;content_type=Article&amp;match_order=1&amp;q=Claude+Desktop&amp;zd_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ6aGlkYV9zZXJ2ZXIiLCJleHAiOjE3NDYxNTYzOTEsInEiOiJDbGF1ZGUgRGVza3RvcCIsInpoaWRhX3NvdXJjZSI6ImVudGl0eSIsImNvbnRlbnRfaWQiOjI1NDQ4ODE1MywiY29udGVudF90eXBlIjoiQXJ0aWNsZSIsIm1hdGNoX29yZGVyIjoxLCJ6ZF90b2tlbiI6bnVsbH0.a0ph8JL9_YNDy3MACrC9JN_gers0GapGPOtkEV-At1E&amp;zhida_source=entity">Claude Desktop</a>、IDE 或 AI 工具）</li><li><strong>MCP 客户端</strong> ：与服务器保持 1:1 连接的协议客户端</li><li><strong>MCP 服务器</strong> ：轻量级程序，每个程序都通过标准化模型上下文协议公开特定功能</li><li><strong>本地数据源</strong> ：MCP 服务器可以安全访问的您的计算机文件、数据库和服务</li><li><strong>远程服务</strong> ：MCP 服务器可以通过互联网（例如通过 API）连接到的外部系统</li></ul><h4 id=mcp-client><strong>MCP Client</strong><a hidden class=anchor aria-hidden=true href=#mcp-client>#</a></h4><p>MCP client 充当 LLM 和 MCP server 之间的桥梁，MCP client 的工作流程如下：</p><ul><li>MCP client 首先从 MCP server 获取可用的工具列表。</li><li>将用户的查询连同工具描述通过 function calling 一起发送给 LLM。</li><li>LLM 决定是否需要使用工具以及使用哪些工具。</li><li>如果需要使用工具，MCP client 会通过 MCP server 执行相应的工具调用。</li><li>工具调用的结果会被发送回 LLM。</li><li>LLM 基于所有信息生成自然语言响应。</li><li>最后将响应展示给用户。</li></ul><p>Claude Desktop 和Cursor都支持了MCP Server接入能力，它们就是作为 MCP client来连接某个MCP Server感知和实现调用。</p><h4 id=mcp-server><strong>MCP Server</strong><a hidden class=anchor aria-hidden=true href=#mcp-server>#</a></h4><p>MCP server 是 MCP 架构中的关键组件，它可以提供 3 种主要类型的功能：</p><ul><li>资源（Resources）：类似文件的数据，可以被客户端读取，如 API 响应或文件内容。</li><li>工具（Tools）：可以被 LLM 调用的函数（需要用户批准）。</li><li>提示（Prompts）：预先编写的模板，帮助用户完成特定任务。</li></ul><p>​ MCP Server 就是为了实现 AI Agent 的自动化而存在的，它是一个中间层，告诉 AI Agent 目前存在哪些服务，哪些 API，哪些数据源，AI Agent 可以根据 Server 提供的信息来决定是否调用某个服务，然后通过 Function Calling 来执行函数。</p><h4 id=通信机制><strong>通信机制</strong><a hidden class=anchor aria-hidden=true href=#通信机制>#</a></h4><p>MCP 协议支持两种主要的通信机制：基于标准输入输出的本地通信和基于[SSE]（<a href=https://en.wikipedia.org/wiki/Server-sent_events>Server-Sent Events</a>）的远程通信。</p><p>这两种机制都使用 <a href=https://www.jsonrpc.org/specification>JSON-RPC 2.0</a> 格式进行消息传输，确保了通信的标准化和可扩展性。</p><ul><li>本地通信**：**通过 stdio 传输数据，适用于在同一台机器上运行的客户端和服务器之间的通信。</li><li>远程通信**：**利用 SSE 与 HTTP 结合，实</li><li>现跨网络的实时数据传输，适用于需要访问远程资源或分布式部署的场景。</li></ul><h2 id=使用-mcp-iterm-mcp-演示>使用 MCP （iterm-mcp 演示）<a hidden class=anchor aria-hidden=true href=#使用-mcp-iterm-mcp-演示>#</a></h2><p>​ 本次演示我用的是 claude 客户端，使用的mcp-server是 iterm-mcp。</p><p>1.先将mcp server 工具加入客户端。</p><p>2.输入 prompt<code>在终端中画一个golang吉祥物土拨鼠 </code>。允许会话使用mcp server</p><p>![image-20250430113633360](/Users/luenci/Library/Application Support/typora-user-images/image-20250430113633360.png)</p><p>3.大模型会开始调用 mcp server 开始自动在终端中写程序绘制图。</p><p>![image-20250430113940404](/Users/luenci/Library/Application Support/typora-user-images/image-20250430113940404.png)</p><p>​ 可以看见大模型会自动在终端中执行命令，根据返回的结果试错，纠正。</p><h2 id=mcp-官方资源>MCP 官方资源<a hidden class=anchor aria-hidden=true href=#mcp-官方资源>#</a></h2><ul><li><a href=https://github.com/modelcontextprotocol>官方的开源组织 Model Context Protocol</a>。</li><li><a href=https://guangzhengli.com/blog/zh/[modelcontextprotocol]%28https://modelcontextprotocol.io/introduction%29>官方的文档 modelcontextprotocol</a>。</li><li><a href=https://github.com/modelcontextprotocol/servers>官方的 MCP Server 列表</a></li><li><a href=https://www.anthropic.com/news/model-context-protocol>Claude Blog</a></li></ul><h1 id=参考文章>参考文章<a hidden class=anchor aria-hidden=true href=#参考文章>#</a></h1><ul><li><a href=https://guangzhengli.com/blog/zh/model-context-protocol>https://guangzhengli.com/blog/zh/model-context-protocol</a></li><li><a href=https://zhuanlan.zhihu.com/p/27327515233>https://zhuanlan.zhihu.com/p/27327515233</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://luenci.com/en/tags/llm/>LLM</a></li></ul><nav class=paginav><a class=next href=https://luenci.com/en/posts/mcp%E5%85%A5%E9%97%A8%E5%8D%8F%E8%AE%AE%E7%AF%87/><span class=title>Next »</span><br><span>MCP 入门（协议篇）</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share MCP 入门（协议篇） on x" href="https://x.com/intent/tweet/?text=MCP%20%e5%85%a5%e9%97%a8%ef%bc%88%e5%8d%8f%e8%ae%ae%e7%af%87%ef%bc%89&amp;url=https%3a%2f%2fluenci.com%2fen%2fposts%2fmcp%25E5%2585%25A5%25E9%2597%25A8%25E6%25A6%2582%25E5%25BF%25B5%25E7%25AF%2587%2f&amp;hashtags=LLM"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share MCP 入门（协议篇） on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fluenci.com%2fen%2fposts%2fmcp%25E5%2585%25A5%25E9%2597%25A8%25E6%25A6%2582%25E5%25BF%25B5%25E7%25AF%2587%2f&amp;title=MCP%20%e5%85%a5%e9%97%a8%ef%bc%88%e5%8d%8f%e8%ae%ae%e7%af%87%ef%bc%89&amp;summary=MCP%20%e5%85%a5%e9%97%a8%ef%bc%88%e5%8d%8f%e8%ae%ae%e7%af%87%ef%bc%89&amp;source=https%3a%2f%2fluenci.com%2fen%2fposts%2fmcp%25E5%2585%25A5%25E9%2597%25A8%25E6%25A6%2582%25E5%25BF%25B5%25E7%25AF%2587%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share MCP 入门（协议篇） on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fluenci.com%2fen%2fposts%2fmcp%25E5%2585%25A5%25E9%2597%25A8%25E6%25A6%2582%25E5%25BF%25B5%25E7%25AF%2587%2f&title=MCP%20%e5%85%a5%e9%97%a8%ef%bc%88%e5%8d%8f%e8%ae%ae%e7%af%87%ef%bc%89"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share MCP 入门（协议篇） on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fluenci.com%2fen%2fposts%2fmcp%25E5%2585%25A5%25E9%2597%25A8%25E6%25A6%2582%25E5%25BF%25B5%25E7%25AF%2587%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share MCP 入门（协议篇） on whatsapp" href="https://api.whatsapp.com/send?text=MCP%20%e5%85%a5%e9%97%a8%ef%bc%88%e5%8d%8f%e8%ae%ae%e7%af%87%ef%bc%89%20-%20https%3a%2f%2fluenci.com%2fen%2fposts%2fmcp%25E5%2585%25A5%25E9%2597%25A8%25E6%25A6%2582%25E5%25BF%25B5%25E7%25AF%2587%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share MCP 入门（协议篇） on telegram" href="https://telegram.me/share/url?text=MCP%20%e5%85%a5%e9%97%a8%ef%bc%88%e5%8d%8f%e8%ae%ae%e7%af%87%ef%bc%89&amp;url=https%3a%2f%2fluenci.com%2fen%2fposts%2fmcp%25E5%2585%25A5%25E9%2597%25A8%25E6%25A6%2582%25E5%25BF%25B5%25E7%25AF%2587%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share MCP 入门（协议篇） on ycombinator" href="https://news.ycombinator.com/submitlink?t=MCP%20%e5%85%a5%e9%97%a8%ef%bc%88%e5%8d%8f%e8%ae%ae%e7%af%87%ef%bc%89&u=https%3a%2f%2fluenci.com%2fen%2fposts%2fmcp%25E5%2585%25A5%25E9%2597%25A8%25E6%25A6%2582%25E5%25BF%25B5%25E7%25AF%2587%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><script src=https://giscus.app/client.js data-repo=Lucareful/Lucareful.github.io data-repo-id="MDEwOlJlcG9zaXRvcnkxOTMzMDM3NDA=" data-category=Q&A data-category-id=DIC_kwDOC4WUvM4ChdIQ data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=light data-lang=zh-CN data-loading=lazy crossorigin=anonymous async></script></article></main><footer class=footer><script src=https://sdk.jinrishici.com/v2/browser/jinrishici.js></script><script type=text/javascript>jinrishici.load(function(e){var t=document.querySelector(".poem_sentence"),n=document.querySelector(".poem_info");t.innerHTML=e.data.content,n.innerHTML="—— "+e.data.origin.author})</script><span><a id=running-time></a><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><span id=busuanzi_container><link rel=stylesheet href=//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css>👁️‍🗨️访客人数: <span id=busuanzi_value_site_uv></span>|
🌐访问量: <span id=busuanzi_value_site_pv></span></span></span><br><span>&copy; 2025 <a href=https://luenci.com/en/>Luenci</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a> 📖
<text class=poem_sentence></text><text class=poem_info></text></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})});const RunningTimerInterval=1e3,StartTime=new Date("10/11/2018 00:00:00");function prefixZero(e){return e<10&&(e="0"+e),e}function updateTime(){const r=new Date;let e=r.getTime()-StartTime.getTime();const t=24*60*60*1e3,n=Math.floor(e/t);e-=n*t;const s=60*60*1e3,o=Math.floor(e/s);e-=o*s;const i=60*1e3,a=Math.floor(e/i);e-=a*i;const c=Math.floor(e/1e3),l=document.getElementById("running-time");l.innerText="🕚: "+n+"天"+prefixZero(o)+"小时"+prefixZero(a)+"分"+prefixZero(c)+"秒"}document.addEventListener("DOMContentLoaded",()=>{let e=setInterval(updateTime,RunningTimerInterval)})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>